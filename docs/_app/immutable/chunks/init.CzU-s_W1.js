class y extends Map{constructor(t,n=w){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(h(this,t))}has(t){return super.has(h(this,t))}set(t,n){return super.set(d(this,t),n)}delete(t){return super.delete(b(this,t))}}function h({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function d({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function b({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function w(e){return e!==null&&typeof e=="object"?e.valueOf():e}function a(e){return e}function x(e,...t){return p(e,a,a,t)}function M(e,t,...n){return p(e,a,t,n)}function p(e,t,n,r){return function i(c,f){if(f>=r.length)return n(c);const s=new y,l=r[f++];let k=-1;for(const o of c){const u=l(o,++k,c),g=s.get(u);g?g.push(o):s.set(u,[o])}for(const[o,u]of s)s.set(o,i(u,f));return t(s)}(e,0)}function j(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}export{y as I,x as g,j as i,M as r};
