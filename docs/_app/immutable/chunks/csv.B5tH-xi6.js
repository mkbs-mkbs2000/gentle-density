function Y(r,t){let e=0;if(t===void 0)for(let o of r)(o=+o)&&(e+=o);else{let o=-1;for(let u of r)(u=+t(u,++o,r))&&(e+=u)}return e}var D={},A={},E=34,m=10,R=13;function O(r){return new Function("d","return {"+r.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function B(r,t){var e=O(r);return function(o,u){return t(e(o),u,r)}}function I(r){var t=Object.create(null),e=[];return r.forEach(function(o){for(var u in o)u in t||e.push(t[u]=u)}),e}function a(r,t){var e=r+"",o=e.length;return o<t?new Array(t-o+1).join(0)+e:e}function L(r){return r<0?"-"+a(-r,6):r>9999?"+"+a(r,6):a(r,4)}function S(r){var t=r.getUTCHours(),e=r.getUTCMinutes(),o=r.getUTCSeconds(),u=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":L(r.getUTCFullYear())+"-"+a(r.getUTCMonth()+1,2)+"-"+a(r.getUTCDate(),2)+(u?"T"+a(t,2)+":"+a(e,2)+":"+a(o,2)+"."+a(u,3)+"Z":o?"T"+a(t,2)+":"+a(e,2)+":"+a(o,2)+"Z":e||t?"T"+a(t,2)+":"+a(e,2)+"Z":"")}function Z(r){var t=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function o(n,i){var s,c,f=u(n,function(h,l){if(s)return s(h,l-1);c=h,s=i?B(h,i):O(h)});return f.columns=c||[],f}function u(n,i){var s=[],c=n.length,f=0,h=0,l,j=c<=0,p=!1;n.charCodeAt(c-1)===m&&--c,n.charCodeAt(c-1)===R&&--c;function w(){if(j)return A;if(p)return p=!1,D;var d,T=f,C;if(n.charCodeAt(T)===E){for(;f++<c&&n.charCodeAt(f)!==E||n.charCodeAt(++f)===E;);return(d=f)>=c?j=!0:(C=n.charCodeAt(f++))===m?p=!0:C===R&&(p=!0,n.charCodeAt(f)===m&&++f),n.slice(T+1,d-1).replace(/""/g,'"')}for(;f<c;){if((C=n.charCodeAt(d=f++))===m)p=!0;else if(C===R)p=!0,n.charCodeAt(f)===m&&++f;else if(C!==e)continue;return n.slice(T,d)}return j=!0,n.slice(T,c)}for(;(l=w())!==A;){for(var v=[];l!==D&&l!==A;)v.push(l),l=w();i&&(v=i(v,h++))==null||s.push(v)}return s}function U(n,i){return n.map(function(s){return i.map(function(c){return g(s[c])}).join(r)})}function F(n,i){return i==null&&(i=I(n)),[i.map(g).join(r)].concat(U(n,i)).join(`
`)}function M(n,i){return i==null&&(i=I(n)),U(n,i).join(`
`)}function b(n){return n.map(N).join(`
`)}function N(n){return n.map(g).join(r)}function g(n){return n==null?"":n instanceof Date?S(n):t.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:o,parseRows:u,format:F,formatBody:M,formatRows:b,formatRow:N,formatValue:g}}var V=Z(","),k=V.parse;export{k as c,Y as s};
