import{s as lt,e as O,b as q,P as W,t as ae,p as ee,d as Y,A as be,j as J,Q as V,f as F,h as ue,i as d,v as a,G as Sn,k as S,l as v,R as Fn,n as we,S as me,$ as Dt,T as An,w as ge,m as Ae,U as Ln,r as On}from"../chunks/scheduler.-OitRhUq.js";import{S as at,i as ut,b as Je,d as Xe,m as Ke,t as et,a as tt,e as nt}from"../chunks/index.B1cI3WIg.js";import{T as Yn}from"../chunks/styles.CiiNbCTD.js";import{i as yn,e as G,g as vt}from"../chunks/init.Csoud8Yr.js";import{s as wt}from"../chunks/sum.CB6J5KXz.js";import{t as Hn,c as pn,a as xt,f as zn,b as Nn,d as Wn,e as Ut,g as Vn,l as pt}from"../chunks/linear.BEmTfIAv.js";function In(e,t){let n=0,r=0;for(let o of e)o!=null&&(o=+o)>=o&&(++n,r+=o);if(n)return r/n}function vn(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],l=e[r],i;return l<o&&(i=n,n=r,r=i,i=o,o=l,l=i),e[n]=t.floor(o),e[r]=t.ceil(l),e}function Et(e){return Math.log(e)}function St(e){return Math.exp(e)}function Bn(e){return-Math.log(-e)}function Rn(e){return-Math.exp(-e)}function Pn(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Gn(e){return e===10?Pn:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $n(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ft(e){return(t,n)=>-e(-t,n)}function jn(e){const t=e(Et,St),n=t.domain;let r=10,o,l;function i(){return o=$n(r),l=Gn(r),n()[0]<0?(o=Ft(o),l=Ft(l),e(Bn,Rn)):e(Et,St),t}return t.base=function(h){return arguments.length?(r=+h,i()):r},t.domain=function(h){return arguments.length?(n(h),i()):n()},t.ticks=h=>{const c=n();let s=c[0],f=c[c.length-1];const u=f<s;u&&([s,f]=[f,s]);let m=o(s),y=o(f),g,k;const T=h==null?10:+h;let M=[];if(!(r%1)&&y-m<T){if(m=Math.floor(m),y=Math.ceil(y),s>0){for(;m<=y;++m)for(g=1;g<r;++g)if(k=m<0?g/l(-m):g*l(m),!(k<s)){if(k>f)break;M.push(k)}}else for(;m<=y;++m)for(g=r-1;g>=1;--g)if(k=m>0?g/l(-m):g*l(m),!(k<s)){if(k>f)break;M.push(k)}M.length*2<T&&(M=xt(s,f,T))}else M=xt(m,y,Math.min(y-m,T)).map(l);return u?M.reverse():M},t.tickFormat=(h,c)=>{if(h==null&&(h=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=zn(c)).precision==null&&(c.trim=!0),c=Nn(c)),h===1/0)return c;const s=Math.max(1,r*h/t.ticks().length);return f=>{let u=f/l(Math.round(o(f)));return u*r<r-.5&&(u*=r),u<=s?c(f):""}},t.nice=()=>n(vn(n(),{floor:h=>l(Math.floor(o(h))),ceil:h=>l(Math.ceil(o(h)))})),t}function wn(){const e=jn(Hn()).domain([1,10]);return e.copy=()=>pn(e,wn()).base(e.base()),yn.apply(e,arguments),e}const ct=new Date,ft=new Date;function ne(e,t,n,r){function o(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=l=>(e(l=new Date(+l)),l),o.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),o.round=l=>{const i=o(l),h=o.ceil(l);return l-i<h-l?i:h},o.offset=(l,i)=>(t(l=new Date(+l),i==null?1:Math.floor(i)),l),o.range=(l,i,h)=>{const c=[];if(l=o.ceil(l),h=h==null?1:Math.floor(h),!(l<i)||!(h>0))return c;let s;do c.push(s=new Date(+l)),t(l,h),e(l);while(s<l&&l<i);return c},o.filter=l=>ne(i=>{if(i>=i)for(;e(i),!l(i);)i.setTime(i-1)},(i,h)=>{if(i>=i)if(h<0)for(;++h<=0;)for(;t(i,-1),!l(i););else for(;--h>=0;)for(;t(i,1),!l(i););}),n&&(o.count=(l,i)=>(ct.setTime(+l),ft.setTime(+i),e(ct),e(ft),Math.floor(n(ct,ft))),o.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(r?i=>r(i)%l===0:i=>o.count(0,i)%l===0):o)),o}const rt=ne(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ne(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):rt);rt.range;const Me=1e3,_e=Me*60,Ce=_e*60,ke=Ce*24,Tt=ke*7,At=ke*30,ht=ke*365,Ve=ne(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Me)},(e,t)=>(t-e)/Me,e=>e.getUTCSeconds());Ve.range;const bt=ne(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Me)},(e,t)=>{e.setTime(+e+t*_e)},(e,t)=>(t-e)/_e,e=>e.getMinutes());bt.range;const Qn=ne(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_e)},(e,t)=>(t-e)/_e,e=>e.getUTCMinutes());Qn.range;const Mt=ne(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Me-e.getMinutes()*_e)},(e,t)=>{e.setTime(+e+t*Ce)},(e,t)=>(t-e)/Ce,e=>e.getHours());Mt.range;const Zn=ne(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ce)},(e,t)=>(t-e)/Ce,e=>e.getUTCHours());Zn.range;const Ze=ne(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_e)/ke,e=>e.getDate()-1);Ze.range;const Ct=ne(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ke,e=>e.getUTCDate()-1);Ct.range;const qn=ne(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ke,e=>Math.floor(e/ke));qn.range;function He(e){return ne(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_e)/Tt)}const st=He(0),ot=He(1),Jn=He(2),Xn=He(3),Ie=He(4),Kn=He(5),er=He(6);st.range;ot.range;Jn.range;Xn.range;Ie.range;Kn.range;er.range;function ze(e){return ne(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Tt)}const Tn=ze(0),it=ze(1),tr=ze(2),nr=ze(3),Be=ze(4),rr=ze(5),or=ze(6);Tn.range;it.range;tr.range;nr.range;Be.range;rr.range;or.range;const kt=ne(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kt.range;const ir=ne(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ir.range;const De=ne(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());De.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ne(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});De.range;const Ye=ne(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ye.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ne(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ye.range;function lr(e,t,n,r,o,l){const i=[[Ve,1,Me],[Ve,5,5*Me],[Ve,15,15*Me],[Ve,30,30*Me],[l,1,_e],[l,5,5*_e],[l,15,15*_e],[l,30,30*_e],[o,1,Ce],[o,3,3*Ce],[o,6,6*Ce],[o,12,12*Ce],[r,1,ke],[r,2,2*ke],[n,1,Tt],[t,1,At],[t,3,3*At],[e,1,ht]];function h(s,f,u){const m=f<s;m&&([s,f]=[f,s]);const y=u&&typeof u.range=="function"?u:c(s,f,u),g=y?y.range(s,+f+1):[];return m?g.reverse():g}function c(s,f,u){const m=Math.abs(f-s)/u,y=Wn(([,,T])=>T).right(i,m);if(y===i.length)return e.every(Ut(s/ht,f/ht,u));if(y===0)return rt.every(Math.max(Ut(s,f,u),1));const[g,k]=i[m/i[y-1][2]<i[y][2]/m?y-1:y];return g.every(k)}return[h,c]}const[ar,ur]=lr(De,kt,st,Ze,Mt,bt);function mt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ge(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function sr(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,l=e.days,i=e.shortDays,h=e.months,c=e.shortMonths,s=$e(o),f=je(o),u=$e(l),m=je(l),y=$e(i),g=je(i),k=$e(h),T=je(h),M=$e(c),L=je(c),E={a:de,A:I,b:w,B:N,c:null,d:Nt,e:Nt,f:Ar,g:Br,G:Pr,H:Er,I:Sr,j:Fr,L:bn,m:Lr,M:Or,p:b,q:X,Q:It,s:Bt,S:Yr,u:Hr,U:zr,V:Nr,w:Wr,W:Vr,x:null,X:null,y:Ir,Y:Rr,Z:Gr,"%":Vt},A={a:xe,A:ve,b:Le,B:Ue,c:null,d:Wt,e:Wt,f:Zr,g:io,G:ao,H:$r,I:jr,j:Qr,L:Cn,m:qr,M:Jr,p:Ee,q:Se,Q:It,s:Bt,S:Xr,u:Kr,U:eo,V:to,w:no,W:ro,x:null,X:null,y:oo,Y:lo,Z:uo,"%":Vt},Q={a:te,A:R,b:ye,B:pe,c:j,d:Ht,e:Ht,f:kr,g:Yt,G:Ot,H:zt,I:zt,j:Tr,L:Cr,m:wr,M:br,p:se,q:vr,Q:xr,s:Ur,S:Mr,u:gr,U:dr,V:_r,w:mr,W:yr,x:ce,X:Z,y:Yt,Y:Ot,Z:pr,"%":Dr};E.x=C(n,E),E.X=C(r,E),E.c=C(t,E),A.x=C(n,A),A.X=C(r,A),A.c=C(t,A);function C(p,U){return function(D){var _=[],re=-1,H=0,ie=p.length,K,Te,Ne;for(D instanceof Date||(D=new Date(+D));++re<ie;)p.charCodeAt(re)===37&&(_.push(p.slice(H,re)),(Te=Lt[K=p.charAt(++re)])!=null?K=p.charAt(++re):Te=K==="e"?" ":"0",(Ne=U[K])&&(K=Ne(D,Te)),_.push(K),H=re+1);return _.push(p.slice(H,re)),_.join("")}}function x(p,U){return function(D){var _=Ge(1900,void 0,1),re=$(_,p,D+="",0),H,ie;if(re!=D.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(_.s*1e3+("L"in _?_.L:0));if(U&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+_.p*12),_.m===void 0&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(H=gt(Ge(_.y,0,1)),ie=H.getUTCDay(),H=ie>4||ie===0?it.ceil(H):it(H),H=Ct.offset(H,(_.V-1)*7),_.y=H.getUTCFullYear(),_.m=H.getUTCMonth(),_.d=H.getUTCDate()+(_.w+6)%7):(H=mt(Ge(_.y,0,1)),ie=H.getDay(),H=ie>4||ie===0?ot.ceil(H):ot(H),H=Ze.offset(H,(_.V-1)*7),_.y=H.getFullYear(),_.m=H.getMonth(),_.d=H.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),ie="Z"in _?gt(Ge(_.y,0,1)).getUTCDay():mt(Ge(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+_.W*7-(ie+5)%7:_.w+_.U*7-(ie+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,gt(_)):mt(_)}}function $(p,U,D,_){for(var re=0,H=U.length,ie=D.length,K,Te;re<H;){if(_>=ie)return-1;if(K=U.charCodeAt(re++),K===37){if(K=U.charAt(re++),Te=Q[K in Lt?U.charAt(re++):K],!Te||(_=Te(p,D,_))<0)return-1}else if(K!=D.charCodeAt(_++))return-1}return _}function se(p,U,D){var _=s.exec(U.slice(D));return _?(p.p=f.get(_[0].toLowerCase()),D+_[0].length):-1}function te(p,U,D){var _=y.exec(U.slice(D));return _?(p.w=g.get(_[0].toLowerCase()),D+_[0].length):-1}function R(p,U,D){var _=u.exec(U.slice(D));return _?(p.w=m.get(_[0].toLowerCase()),D+_[0].length):-1}function ye(p,U,D){var _=M.exec(U.slice(D));return _?(p.m=L.get(_[0].toLowerCase()),D+_[0].length):-1}function pe(p,U,D){var _=k.exec(U.slice(D));return _?(p.m=T.get(_[0].toLowerCase()),D+_[0].length):-1}function j(p,U,D){return $(p,t,U,D)}function ce(p,U,D){return $(p,n,U,D)}function Z(p,U,D){return $(p,r,U,D)}function de(p){return i[p.getDay()]}function I(p){return l[p.getDay()]}function w(p){return c[p.getMonth()]}function N(p){return h[p.getMonth()]}function b(p){return o[+(p.getHours()>=12)]}function X(p){return 1+~~(p.getMonth()/3)}function xe(p){return i[p.getUTCDay()]}function ve(p){return l[p.getUTCDay()]}function Le(p){return c[p.getUTCMonth()]}function Ue(p){return h[p.getUTCMonth()]}function Ee(p){return o[+(p.getUTCHours()>=12)]}function Se(p){return 1+~~(p.getUTCMonth()/3)}return{format:function(p){var U=C(p+="",E);return U.toString=function(){return p},U},parse:function(p){var U=x(p+="",!1);return U.toString=function(){return p},U},utcFormat:function(p){var U=C(p+="",A);return U.toString=function(){return p},U},utcParse:function(p){var U=x(p+="",!0);return U.toString=function(){return p},U}}}var Lt={"-":"",_:" ",0:"0"},oe=/^\s*\d+/,cr=/^%/,fr=/[\\^$*+?|[\]().{}]/g;function z(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",l=o.length;return r+(l<n?new Array(n-l+1).join(t)+o:o)}function hr(e){return e.replace(fr,"\\$&")}function $e(e){return new RegExp("^(?:"+e.map(hr).join("|")+")","i")}function je(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function mr(e,t,n){var r=oe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function gr(e,t,n){var r=oe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dr(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _r(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yr(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ot(e,t,n){var r=oe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yt(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pr(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vr(e,t,n){var r=oe.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function wr(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ht(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Tr(e,t,n){var r=oe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zt(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function br(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Mr(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Cr(e,t,n){var r=oe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function kr(e,t,n){var r=oe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dr(e,t,n){var r=cr.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xr(e,t,n){var r=oe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ur(e,t,n){var r=oe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Nt(e,t){return z(e.getDate(),t,2)}function Er(e,t){return z(e.getHours(),t,2)}function Sr(e,t){return z(e.getHours()%12||12,t,2)}function Fr(e,t){return z(1+Ze.count(De(e),e),t,3)}function bn(e,t){return z(e.getMilliseconds(),t,3)}function Ar(e,t){return bn(e,t)+"000"}function Lr(e,t){return z(e.getMonth()+1,t,2)}function Or(e,t){return z(e.getMinutes(),t,2)}function Yr(e,t){return z(e.getSeconds(),t,2)}function Hr(e){var t=e.getDay();return t===0?7:t}function zr(e,t){return z(st.count(De(e)-1,e),t,2)}function Mn(e){var t=e.getDay();return t>=4||t===0?Ie(e):Ie.ceil(e)}function Nr(e,t){return e=Mn(e),z(Ie.count(De(e),e)+(De(e).getDay()===4),t,2)}function Wr(e){return e.getDay()}function Vr(e,t){return z(ot.count(De(e)-1,e),t,2)}function Ir(e,t){return z(e.getFullYear()%100,t,2)}function Br(e,t){return e=Mn(e),z(e.getFullYear()%100,t,2)}function Rr(e,t){return z(e.getFullYear()%1e4,t,4)}function Pr(e,t){var n=e.getDay();return e=n>=4||n===0?Ie(e):Ie.ceil(e),z(e.getFullYear()%1e4,t,4)}function Gr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+z(t/60|0,"0",2)+z(t%60,"0",2)}function Wt(e,t){return z(e.getUTCDate(),t,2)}function $r(e,t){return z(e.getUTCHours(),t,2)}function jr(e,t){return z(e.getUTCHours()%12||12,t,2)}function Qr(e,t){return z(1+Ct.count(Ye(e),e),t,3)}function Cn(e,t){return z(e.getUTCMilliseconds(),t,3)}function Zr(e,t){return Cn(e,t)+"000"}function qr(e,t){return z(e.getUTCMonth()+1,t,2)}function Jr(e,t){return z(e.getUTCMinutes(),t,2)}function Xr(e,t){return z(e.getUTCSeconds(),t,2)}function Kr(e){var t=e.getUTCDay();return t===0?7:t}function eo(e,t){return z(Tn.count(Ye(e)-1,e),t,2)}function kn(e){var t=e.getUTCDay();return t>=4||t===0?Be(e):Be.ceil(e)}function to(e,t){return e=kn(e),z(Be.count(Ye(e),e)+(Ye(e).getUTCDay()===4),t,2)}function no(e){return e.getUTCDay()}function ro(e,t){return z(it.count(Ye(e)-1,e),t,2)}function oo(e,t){return z(e.getUTCFullYear()%100,t,2)}function io(e,t){return e=kn(e),z(e.getUTCFullYear()%100,t,2)}function lo(e,t){return z(e.getUTCFullYear()%1e4,t,4)}function ao(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Be(e):Be.ceil(e),z(e.getUTCFullYear()%1e4,t,4)}function uo(){return"+0000"}function Vt(){return"%"}function It(e){return+e}function Bt(e){return Math.floor(+e/1e3)}var We,Dn,xn;so({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function so(e){return We=sr(e),Dn=We.format,xn=We.parse,We.utcFormat,We.utcParse,We}function co(e){return new Date(e)}function fo(e){return e instanceof Date?+e:+new Date(+e)}function Un(e,t,n,r,o,l,i,h,c,s){var f=Vn(),u=f.invert,m=f.domain,y=s(".%L"),g=s(":%S"),k=s("%I:%M"),T=s("%I %p"),M=s("%a %d"),L=s("%b %d"),E=s("%B"),A=s("%Y");function Q(C){return(c(C)<C?y:h(C)<C?g:i(C)<C?k:l(C)<C?T:r(C)<C?o(C)<C?M:L:n(C)<C?E:A)(C)}return f.invert=function(C){return new Date(u(C))},f.domain=function(C){return arguments.length?m(Array.from(C,fo)):m().map(co)},f.ticks=function(C){var x=m();return e(x[0],x[x.length-1],C??10)},f.tickFormat=function(C,x){return x==null?Q:s(x)},f.nice=function(C){var x=m();return(!C||typeof C.range!="function")&&(C=t(x[0],x[x.length-1],C??10)),C?m(vn(x,C)):f},f.copy=function(){return pn(f,Un(e,t,n,r,o,l,i,h,c,s))},f}function ho(){return yn.apply(Un(ar,ur,De,kt,st,Ze,Mt,bt,Ve,Dn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const mo=!0,Qo=Object.freeze(Object.defineProperty({__proto__:null,prerender:mo},Symbol.toStringTag,{value:"Module"}));function Rt(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function Pt(e,t,n){const r=e.slice();return r[18]=t[n],r}function Gt(e,t,n){const r=e.slice();return r[21]=t[n],r}function $t(e){let t,n=e[21]+"",r,o,l,i,h;function c(){return e[12](e[21])}return{c(){t=O("div"),r=ae(n),o=q(),this.h()},l(s){t=Y(s,"DIV",{class:!0});var f=F(t);r=ue(f,n),o=J(f),f.forEach(d),this.h()},h(){a(t,"class",l=Dt(e[21]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")},m(s,f){S(s,t,f),v(t,r),v(t,o),i||(h=An(t,"click",c),i=!0)},p(s,f){e=s,f&1&&l!==(l=Dt(e[21]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")&&a(t,"class",l)},d(s){s&&d(t),i=!1,h()}}}function jt(e){let t,n,r,o,l=Zt(e[18])+"",i,h;return{c(){t=W("line"),o=W("text"),i=ae(l),this.h()},l(c){t=V(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),F(t).forEach(d),o=V(c,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var s=F(o);i=ue(s,l),s.forEach(d),this.h()},h(){a(t,"x1",n=e[3](e[18])),a(t,"y1","25"),a(t,"x2",r=e[3](e[18])),a(t,"y2",e[7]),ge(t,"stroke","#8EB6DC"),ge(t,"stroke-width","1"),ge(t,"opacity","0.5"),a(o,"x",h=e[3](e[18])),a(o,"y","20"),a(o,"id","labelBar"),a(o,"text-anchor","middle"),a(o,"font-size","16"),a(o,"class","svelte-19rgk4g")},m(c,s){S(c,t,s),S(c,o,s),v(o,i)},p(c,s){s&12&&n!==(n=c[3](c[18]))&&a(t,"x1",n),s&12&&r!==(r=c[3](c[18]))&&a(t,"x2",r),s&4&&l!==(l=Zt(c[18])+"")&&Ae(i,l),s&12&&h!==(h=c[3](c[18]))&&a(o,"x",h)},d(c){c&&(d(t),d(o))}}}function Qt(e){let t,n=e[15].GEO.split(",")[0]+"",r,o,l=e[15].conv+"",i,h,c,s;return{c(){t=W("text"),r=ae(n),o=ae(": "),i=ae(l),h=W("rect"),this.h()},l(f){t=V(f,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var u=F(t);r=ue(u,n),o=ue(u,": "),i=ue(u,l),u.forEach(d),h=V(f,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),F(h).forEach(d),this.h()},h(){a(t,"x","0"),a(t,"y",e[17]*32+43),a(t,"id","labelBar"),a(t,"text-anchor","start"),a(t,"font-size","16"),a(t,"class","svelte-19rgk4g"),a(h,"id","bar"),a(h,"x",0),a(h,"y",e[17]*32+47),a(h,"height",8),a(h,"width",c=e[3](e[15].conv)),a(h,"fill",s=e[15].colour)},m(f,u){S(f,t,u),v(t,r),v(t,o),v(t,i),S(f,h,u)},p(f,u){u&16&&n!==(n=f[15].GEO.split(",")[0]+"")&&Ae(r,n),u&16&&l!==(l=f[15].conv+"")&&Ae(i,l),u&24&&c!==(c=f[3](f[15].conv))&&a(h,"width",c),u&16&&s!==(s=f[15].colour)&&a(h,"fill",s)},d(f){f&&(d(t),d(h))}}}function go(e){let t,n="Total and percent of new dwellings from building conversions",r,o,l,i,h,c,s,f,u,m,y,g,k,T,M,L,E,A,Q,C,x,$,se,te,R,ye,pe=G(e[5]),j=[];for(let w=0;w<pe.length;w+=1)j[w]=$t(Gt(e,pe,w));let ce=G(e[2]),Z=[];for(let w=0;w<ce.length;w+=1)Z[w]=jt(Pt(e,ce,w));let de=G(e[4]),I=[];for(let w=0;w<de.length;w+=1)I[w]=Qt(Rt(e,de,w));return{c(){t=O("h3"),t.textContent=n,r=q(),o=W("svg"),l=W("text"),i=ae("01/2019 to 12/2023 (5 years total)"),h=q(),c=W("svg"),s=W("text"),f=ae("% of all new dwelling units from conversions"),u=W("rect"),m=W("rect"),y=W("rect"),g=W("text"),k=ae("5%"),T=W("text"),M=ae("10%"),L=q(),E=W("svg"),A=W("text"),Q=ae("Number of new dwelling units from conversions"),C=q(),x=O("div");for(let w=0;w<j.length;w+=1)j[w].c();$=q(),se=O("div"),te=W("svg");for(let w=0;w<Z.length;w+=1)Z[w].c();R=ee();for(let w=0;w<I.length;w+=1)I[w].c();this.h()},l(w){t=Y(w,"H3",{"data-svelte-h":!0}),be(t)!=="svelte-n00m8l"&&(t.textContent=n),r=J(w),o=V(w,"svg",{id:!0,height:!0,width:!0,class:!0});var N=F(o);l=V(N,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var b=F(l);i=ue(b,"01/2019 to 12/2023 (5 years total)"),b.forEach(d),N.forEach(d),h=J(w),c=V(w,"svg",{id:!0,height:!0,width:!0,class:!0});var X=F(c);s=V(X,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var xe=F(s);f=ue(xe,"% of all new dwelling units from conversions"),xe.forEach(d),u=V(X,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),F(u).forEach(d),m=V(X,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),F(m).forEach(d),y=V(X,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),F(y).forEach(d),g=V(X,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var ve=F(g);k=ue(ve,"5%"),ve.forEach(d),T=V(X,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var Le=F(T);M=ue(Le,"10%"),Le.forEach(d),X.forEach(d),L=J(w),E=V(w,"svg",{id:!0,height:!0,width:!0,class:!0});var Ue=F(E);A=V(Ue,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var Ee=F(A);Q=ue(Ee,"Number of new dwelling units from conversions"),Ee.forEach(d),Ue.forEach(d),C=J(w),x=Y(w,"DIV",{class:!0});var Se=F(x);for(let D=0;D<j.length;D+=1)j[D].l(Se);Se.forEach(d),$=J(w),se=Y(w,"DIV",{class:!0});var p=F(se);te=V(p,"svg",{height:!0,width:!0,id:!0});var U=F(te);for(let D=0;D<Z.length;D+=1)Z[D].l(U);R=ee();for(let D=0;D<I.length;D+=1)I[D].l(U);U.forEach(d),p.forEach(d),this.h()},h(){a(l,"x","0"),a(l,"y","12"),a(l,"id","labelBar"),a(l,"text-anchor","start"),a(l,"font-size","16"),a(l,"class","svelte-19rgk4g"),a(o,"id","years"),a(o,"height","35"),a(o,"width",e[1]),a(o,"class","svelte-19rgk4g"),a(s,"x","0"),a(s,"y","12"),a(s,"id","labelBar"),a(s,"text-anchor","start"),a(s,"font-size","16"),a(s,"class","svelte-19rgk4g"),a(u,"id","legendBar"),a(u,"x",0),a(u,"y",22),a(u,"height",8),a(u,"width",99),a(u,"fill","#F1C500"),a(m,"id","legendBar"),a(m,"x",101),a(m,"y",22),a(m,"height",8),a(m,"width",99),a(m,"fill","#ce6c35"),a(y,"id","legendBar"),a(y,"x",202),a(y,"y",22),a(y,"height",8),a(y,"width",99),a(y,"fill","#ab1269"),a(g,"x","100"),a(g,"y","44"),a(g,"id","labelBar"),a(g,"text-anchor","middle"),a(g,"font-size","16"),a(g,"class","svelte-19rgk4g"),a(T,"x","200"),a(T,"y","44"),a(T,"id","labelBar"),a(T,"text-anchor","middle"),a(T,"font-size","16"),a(T,"class","svelte-19rgk4g"),a(c,"id","legend"),a(c,"height","50"),a(c,"width",e[1]),a(c,"class","svelte-19rgk4g"),a(A,"x","0"),a(A,"y","12"),a(A,"id","labelBar"),a(A,"text-anchor","start"),a(A,"font-size","16"),a(A,"class","svelte-19rgk4g"),a(E,"id","legend"),a(E,"height","15"),a(E,"width",e[1]),a(E,"class","svelte-19rgk4g"),a(x,"class","options-container svelte-19rgk4g"),a(te,"height",e[7]),a(te,"width",e[1]),a(te,"id","svgChart"),a(se,"class","chart-wrapper"),Sn(()=>e[13].call(se))},m(w,N){S(w,t,N),S(w,r,N),S(w,o,N),v(o,l),v(l,i),S(w,h,N),S(w,c,N),v(c,s),v(s,f),v(c,u),v(c,m),v(c,y),v(c,g),v(g,k),v(c,T),v(T,M),S(w,L,N),S(w,E,N),v(E,A),v(A,Q),S(w,C,N),S(w,x,N);for(let b=0;b<j.length;b+=1)j[b]&&j[b].m(x,null);S(w,$,N),S(w,se,N),v(se,te);for(let b=0;b<Z.length;b+=1)Z[b]&&Z[b].m(te,null);v(te,R);for(let b=0;b<I.length;b+=1)I[b]&&I[b].m(te,null);ye=Fn(se,e[13].bind(se))},p(w,[N]){if(N&2&&a(o,"width",w[1]),N&2&&a(c,"width",w[1]),N&2&&a(E,"width",w[1]),N&97){pe=G(w[5]);let b;for(b=0;b<pe.length;b+=1){const X=Gt(w,pe,b);j[b]?j[b].p(X,N):(j[b]=$t(X),j[b].c(),j[b].m(x,null))}for(;b<j.length;b+=1)j[b].d(1);j.length=pe.length}if(N&140){ce=G(w[2]);let b;for(b=0;b<ce.length;b+=1){const X=Pt(w,ce,b);Z[b]?Z[b].p(X,N):(Z[b]=jt(X),Z[b].c(),Z[b].m(te,R))}for(;b<Z.length;b+=1)Z[b].d(1);Z.length=ce.length}if(N&24){de=G(w[4]);let b;for(b=0;b<de.length;b+=1){const X=Rt(w,de,b);I[b]?I[b].p(X,N):(I[b]=Qt(X),I[b].c(),I[b].m(te,null))}for(;b<I.length;b+=1)I[b].d(1);I.length=de.length}N&2&&a(te,"width",w[1])},i:we,o:we,d(w){w&&(d(t),d(r),d(o),d(h),d(c),d(L),d(E),d(C),d(x),d($),d(se)),me(j,w),me(Z,w),me(I,w),ye()}}}function Zt(e){return e>999?e%1e3===0?(e/1e3).toFixed(0)+"k":(e/1e3).toFixed(1)+"k":e}function _o(e,t,n){let r,o,l,{data:i}=t,{cities:h}=t,c="Log Scale",s=["Linear Scale","Log Scale"];function f(M){n(0,c=M)}let u,m=300+40*25,y,g;const k=M=>f(M);function T(){u=this.offsetWidth,n(1,u)}return e.$$set=M=>{"data"in M&&n(8,i=M.data),"cities"in M&&n(9,h=M.cities)},e.$$.update=()=>{e.$$.dirty&256&&n(11,r=vt(i,M=>M.GEO,M=>M.Type)),e.$$.dirty&2048&&n(10,o=Array.from(r,([M,L])=>({GEO:M,sums:Array.from(L,([E,A])=>({Type:E,sumValue:wt(A,Q=>Q.VALUE)}))}))),e.$$.dirty&1536&&n(10,o=o.filter(M=>h.slice(1).includes(M.GEO))),e.$$.dirty&1024&&n(4,l=o.map(M=>{const L=M.sums.filter(C=>C.Type!=="new").reduce((C,x)=>C+x.sumValue,0),E=M.sums.reduce((C,x)=>C+x.sumValue,0),A=E!==0?L/E:0;let Q;return A<.05?Q="#F1C500":A<.1?Q="#ce6c35":Q="#ab1269",{GEO:M.GEO,conv:L,per:A,colour:Q}}).sort((M,L)=>L.conv-M.conv)),e.$$.dirty&3&&(c==="Log Scale"?(n(3,g=wn().domain([100,65e3]).range([0,u])),n(2,y=[500,1e3,5e3,1e4,5e4])):(n(3,g=pt().domain([1,42e3]).range([0,u])),n(2,y=[1e4,2e4,3e4,4e4])))},[c,u,y,g,l,s,f,m,i,h,o,r,k,T]}class yo extends at{constructor(t){super(),ut(this,t,_o,go,lt,{data:8,cities:9})}}function qt(e,t,n){const r=e.slice();return r[7]=t[n],r}function po(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function vo(e,t,n){const r=e.slice();return r[13]=t[n],r}function Jt(e,t,n){const r=e.slice();return r[16]=t[n],r}function Xt(e,t,n){const r=e.slice();return r[10]=t[n],r}function Kt(e,t,n){const r=e.slice();return r[21]=t[n],r}function en(e){let t=(e[4]=pt().domain([0,e[16].mean*2.25]).range([115,25]))+"",n,r,o,l=G(e[16].sums),i=[];for(let s=0;s<l.length;s+=1)i[s]=tn(Kt(e,l,s));let h=G(["2019","2020","2021","2022","2023"]),c=[];for(let s=0;s<5;s+=1)c[s]=nn(Xt(e,h,s));return{c(){n=ae(t);for(let s=0;s<i.length;s+=1)i[s].c();r=ee();for(let s=0;s<5;s+=1)c[s].c();o=ee()},l(s){n=ue(s,t);for(let f=0;f<i.length;f+=1)i[f].l(s);r=ee();for(let f=0;f<5;f+=1)c[f].l(s);o=ee()},m(s,f){S(s,n,f);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(s,f);S(s,r,f);for(let u=0;u<5;u+=1)c[u]&&c[u].m(s,f);S(s,o,f)},p(s,f){if(f&2&&t!==(t=(s[4]=pt().domain([0,s[16].mean*2.25]).range([115,25]))+"")&&Ae(n,t),f&22){l=G(s[16].sums);let u;for(u=0;u<l.length;u+=1){const m=Kt(s,l,u);i[u]?i[u].p(m,f):(i[u]=tn(m),i[u].c(),i[u].m(r.parentNode,r))}for(;u<i.length;u+=1)i[u].d(1);i.length=l.length}if(f&30){h=G(["2019","2020","2021","2022","2023"]);let u;for(u=0;u<5;u+=1){const m=Xt(s,h,u);c[u]?c[u].p(m,f):(c[u]=nn(m),c[u].c(),c[u].m(o.parentNode,o))}for(;u<5;u+=1)c[u].d(1)}},d(s){s&&(d(n),d(r),d(o)),me(i,s),me(c,s)}}}function tn(e){let t,n,r,o;return{c(){t=W("line"),this.h()},l(l){t=V(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),F(t).forEach(d),this.h()},h(){a(t,"x1",n=e[2](e[21].date)),a(t,"y1",r=e[4](e[21].sumValue)),a(t,"x2",o=e[2](e[21].date)),a(t,"y2",115),ge(t,"stroke","#F1C500"),ge(t,"stroke-width","3"),ge(t,"opacity","0.42")},m(l,i){S(l,t,i)},p(l,i){i&6&&n!==(n=l[2](l[21].date))&&a(t,"x1",n),i&2&&r!==(r=l[4](l[21].sumValue))&&a(t,"y1",r),i&6&&o!==(o=l[2](l[21].date))&&a(t,"x2",o)},d(l){l&&d(t)}}}function wo(e){let t,n,r,o,l=Math.round(e[16].yearlyData[e[10]].sum)+"",i,h;return{c(){t=W("line"),o=W("text"),i=ae(l),this.h()},l(c){t=V(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),F(t).forEach(d),o=V(c,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var s=F(o);i=ue(s,l),s.forEach(d),this.h()},h(){a(t,"x1",n=e[2](e[3](e[10]+"-01"))),a(t,"y1","35"),a(t,"x2",r=e[2](e[3](e[10]+"-12"))),a(t,"y2","35"),ge(t,"stroke","#ab1269"),ge(t,"stroke-width","2"),a(o,"x",h=e[2](e[3](e[10]+"-01"))+27.6/2),a(o,"y","33"),a(o,"text-anchor","middle"),a(o,"id","avgLabel"),a(o,"font-size","12"),a(o,"class","svelte-1czd5nw")},m(c,s){S(c,t,s),S(c,o,s),v(o,i)},p(c,s){s&4&&n!==(n=c[2](c[3](c[10]+"-01")))&&a(t,"x1",n),s&4&&r!==(r=c[2](c[3](c[10]+"-12")))&&a(t,"x2",r),s&2&&l!==(l=Math.round(c[16].yearlyData[c[10]].sum)+"")&&Ae(i,l),s&4&&h!==(h=c[2](c[3](c[10]+"-01"))+27.6/2)&&a(o,"x",h)},d(c){c&&(d(t),d(o))}}}function To(e){let t,n,r,o,l,i,h=Math.round(e[16].yearlyData[e[10]].sum)+"",c,s,f;return{c(){t=W("line"),i=W("text"),c=ae(h),this.h()},l(u){t=V(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),F(t).forEach(d),i=V(u,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var m=F(i);c=ue(m,h),m.forEach(d),this.h()},h(){a(t,"x1",n=e[2](e[3](e[10]+"-01"))),a(t,"y1",r=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),a(t,"x2",o=e[2](e[3](e[10]+"-12"))),a(t,"y2",l=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),ge(t,"stroke","#ab1269"),ge(t,"stroke-width","2"),a(i,"x",s=e[2](e[3](e[10]+"-01"))+27.6/2),a(i,"y",f=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)-2),a(i,"text-anchor","middle"),a(i,"id","avgLabel"),a(i,"font-size","12"),a(i,"class","svelte-1czd5nw")},m(u,m){S(u,t,m),S(u,i,m),v(i,c)},p(u,m){m&4&&n!==(n=u[2](u[3](u[10]+"-01")))&&a(t,"x1",n),m&2&&r!==(r=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&a(t,"y1",r),m&4&&o!==(o=u[2](u[3](u[10]+"-12")))&&a(t,"x2",o),m&2&&l!==(l=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&a(t,"y2",l),m&2&&h!==(h=Math.round(u[16].yearlyData[u[10]].sum)+"")&&Ae(c,h),m&4&&s!==(s=u[2](u[3](u[10]+"-01"))+27.6/2)&&a(i,"x",s),m&2&&f!==(f=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count)-2)&&a(i,"y",f)},d(u){u&&(d(t),d(i))}}}function nn(e){let t,n;function r(i,h){return h&2&&(t=null),t==null&&(t=i[4](i[16].yearlyData[i[10]].sum/i[16].yearlyData[i[10]].count)>35),t?To:wo}let o=r(e,-1),l=o(e);return{c(){l.c(),n=ee()},l(i){l.l(i),n=ee()},m(i,h){l.m(i,h),S(i,n,h)},p(i,h){o===(o=r(i,h))&&l?l.p(i,h):(l.d(1),l=o(i),l&&(l.c(),l.m(n.parentNode,n)))},d(i){i&&d(n),l.d(i)}}}function rn(e){let t,n=e[7]===e[16].GEO&&en(e);return{c(){n&&n.c(),t=ee()},l(r){n&&n.l(r),t=ee()},m(r,o){n&&n.m(r,o),S(r,t,o)},p(r,o){r[7]===r[16].GEO?n?n.p(r,o):(n=en(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&d(t),n&&n.d(r)}}}function bo(e){let t;return{c(){t=W("line"),this.h()},l(n){t=V(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),F(t).forEach(d),this.h()},h(){a(t,"x1",6+e[13]*27.6),a(t,"y1","115"),a(t,"x2",6+e[13]*27.6),a(t,"y2","120"),ge(t,"stroke","#1470ad"),ge(t,"stroke-width","1")},m(n,r){S(n,t,r)},p:we,d(n){n&&d(t)}}}function Mo(e){let t,n;return{c(){t=W("text"),n=ae(e[10]),this.h()},l(r){t=V(r,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var o=F(t);n=ue(o,e[10]),o.forEach(d),this.h()},h(){a(t,"x",20+e[12]*27.6),a(t,"y","127"),a(t,"id","cityLabel"),a(t,"text-anchor","middle"),a(t,"font-size","15"),a(t,"class","svelte-1czd5nw")},m(r,o){S(r,t,o),v(t,n)},p:we,d(r){r&&d(t)}}}function on(e){let t,n,r,o=e[7].split(",")[0]+"",l,i,h,c=G(e[1]),s=[];for(let g=0;g<c.length;g+=1)s[g]=rn(Jt(e,c,g));let f=G([0,1,2,3,4,5]),u=[];for(let g=0;g<6;g+=1)u[g]=bo(vo(e,f,g));let m=G([19,20,21,22,23]),y=[];for(let g=0;g<5;g+=1)y[g]=Mo(po(e,m,g));return{c(){t=O("div"),n=W("svg");for(let g=0;g<s.length;g+=1)s[g].c();r=W("text"),l=ae(o);for(let g=0;g<6;g+=1)u[g].c();i=ee();for(let g=0;g<5;g+=1)y[g].c();h=q(),this.h()},l(g){t=Y(g,"DIV",{class:!0});var k=F(t);n=V(k,"svg",{height:!0,width:!0,id:!0});var T=F(n);for(let L=0;L<s.length;L+=1)s[L].l(T);r=V(T,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var M=F(r);l=ue(M,o),M.forEach(d);for(let L=0;L<6;L+=1)u[L].l(T);i=ee();for(let L=0;L<5;L+=1)y[L].l(T);T.forEach(d),h=J(k),k.forEach(d),this.h()},h(){a(r,"x","5"),a(r,"y",20),a(r,"id","cityLabel"),a(r,"text-anchor","start"),a(r,"font-size","15"),a(r,"class","svelte-1czd5nw"),a(n,"height",145),a(n,"width",145),a(n,"id","svgChart"),a(t,"class","chart svelte-1czd5nw")},m(g,k){S(g,t,k),v(t,n);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(n,null);v(n,r),v(r,l);for(let T=0;T<6;T+=1)u[T]&&u[T].m(n,null);v(n,i);for(let T=0;T<5;T+=1)y[T]&&y[T].m(n,null);v(t,h)},p(g,k){if(k&31){c=G(g[1]);let T;for(T=0;T<c.length;T+=1){const M=Jt(g,c,T);s[T]?s[T].p(M,k):(s[T]=rn(M),s[T].c(),s[T].m(n,r))}for(;T<s.length;T+=1)s[T].d(1);s.length=c.length}k&1&&o!==(o=g[7].split(",")[0]+"")&&Ae(l,o)},d(g){g&&d(t),me(s,g),me(u,g),me(y,g)}}}function Co(e){let t,n=G(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=on(qt(e,n,o));return{c(){t=O("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=Y(o,"DIV",{id:!0,class:!0});var l=F(t);for(let i=0;i<r.length;i+=1)r[i].l(l);l.forEach(d),this.h()},h(){a(t,"id","chartWrapper"),a(t,"class","svelte-1czd5nw")},m(o,l){S(o,t,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null)},p(o,[l]){if(l&31){n=G(o[0]);let i;for(i=0;i<n.length;i+=1){const h=qt(o,n,i);r[i]?r[i].p(h,l):(r[i]=on(h),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:we,o:we,d(o){o&&d(t),me(r,o)}}}function ko(e,t,n){let r,o,l,{data:i}=t,{cities:h}=t;const c=xn("%Y-%m");let s;return e.$$set=f=>{"data"in f&&n(5,i=f.data),"cities"in f&&n(0,h=f.cities)},e.$$.update=()=>{e.$$.dirty&32&&n(6,r=vt(i.filter(f=>!f.Type.includes("new")),f=>f.GEO,f=>f.REF_DATE)),e.$$.dirty&64&&n(1,o=Array.from(r,([f,u])=>({GEO:f,sums:Array.from(u,([m,y])=>({date:m,sumValue:wt(y,g=>g.VALUE)}))}))),e.$$.dirty&3&&n(1,o=o.filter(f=>h.includes(f.GEO))),e.$$.dirty&2&&o.forEach(f=>{f.sums.forEach(u=>{u.date=c(u.date)}),f.maxValue=Math.max(...f.sums.map(u=>u.sumValue)),f.mean=In(f.sums.map(u=>u.sumValue))}),e.$$.dirty&2&&o.forEach(f=>{const u={};f.sums.forEach(m=>{const g=new Date(m.date).getUTCFullYear();u[g]||(u[g]={sum:0,count:0}),u[g].sum+=m.sumValue,u[g].count++}),f.yearlyData=u})},n(2,l=ho().domain([c("2019-01"),c("2023-12")]).range([6,144])),[h,o,l,c,s,i,r]}class Do extends at{constructor(t){super(),ut(this,t,ko,Co,lt,{data:5,cities:0})}}function ln(e,t,n){const r=e.slice();return r[5]=t[n],r}function an(e,t,n){const r=e.slice();return r[8]=t[n],r}function un(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function sn(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function cn(e){let t,n=G([0,1,2,3,4,5,6,7,8,9]),r=[];for(let o=0;o<10;o+=1)r[o]=hn(un(e,n,o));return{c(){for(let o=0;o<10;o+=1)r[o].c();t=ee()},l(o){for(let l=0;l<10;l+=1)r[l].l(o);t=ee()},m(o,l){for(let i=0;i<10;i+=1)r[i]&&r[i].m(o,l);S(o,t,l)},p(o,l){if(l&2){n=G([0,1,2,3,4,5,6,7,8,9]);let i;for(i=0;i<10;i+=1){const h=un(o,n,i);r[i]?r[i].p(h,l):(r[i]=hn(h),r[i].c(),r[i].m(t.parentNode,t))}for(;i<10;i+=1)r[i].d(1)}},d(o){o&&d(t),me(r,o)}}}function xo(e){let t;return{c(){t=W("rect"),this.h()},l(n){t=V(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),F(t).forEach(d),this.h()},h(){a(t,"x",5+Pe*e[14]),a(t,"y",25+Pe*e[11]),a(t,"width",Re),a(t,"height",Re),a(t,"fill","#ce6c35")},m(n,r){S(n,t,r)},p:we,d(n){n&&d(t)}}}function Uo(e){let t;return{c(){t=W("rect"),this.h()},l(n){t=V(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),F(t).forEach(d),this.h()},h(){a(t,"x",5+Pe*e[14]),a(t,"y",25+Pe*e[11]),a(t,"width",Re),a(t,"height",Re),a(t,"fill","#F1C500")},m(n,r){S(n,t,r)},p:we,d(n){n&&d(t)}}}function Eo(e){let t;return{c(){t=W("rect"),this.h()},l(n){t=V(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),F(t).forEach(d),this.h()},h(){a(t,"x",5+Pe*e[14]),a(t,"y",25+Pe*e[11]),a(t,"width",Re),a(t,"height",Re),a(t,"fill","#3597CE")},m(n,r){S(n,t,r)},p:we,d(n){n&&d(t)}}}function fn(e){let t;function n(l,i){return l[16]+l[13]*10<l[8].PerNtoR?Eo:l[16]+l[13]*10<l[8].PerNtoR+l[8].PerStoM?Uo:xo}let r=n(e),o=r(e);return{c(){o.c(),t=ee()},l(l){o.l(l),t=ee()},m(l,i){o.m(l,i),S(l,t,i)},p(l,i){r===(r=n(l))&&o?o.p(l,i):(o.d(1),o=r(l),o&&(o.c(),o.m(t.parentNode,t)))},d(l){l&&d(t),o.d(l)}}}function hn(e){let t,n=G([0,1,2,3,4,5,6,7,8,9]),r=[];for(let o=0;o<10;o+=1)r[o]=fn(sn(e,n,o));return{c(){for(let o=0;o<10;o+=1)r[o].c();t=ee()},l(o){for(let l=0;l<10;l+=1)r[l].l(o);t=ee()},m(o,l){for(let i=0;i<10;i+=1)r[i]&&r[i].m(o,l);S(o,t,l)},p(o,l){if(l&2){n=G([0,1,2,3,4,5,6,7,8,9]);let i;for(i=0;i<10;i+=1){const h=sn(o,n,i);r[i]?r[i].p(h,l):(r[i]=fn(h),r[i].c(),r[i].m(t.parentNode,t))}for(;i<10;i+=1)r[i].d(1)}},d(o){o&&d(t),me(r,o)}}}function mn(e){let t,n=e[5]===e[8].GEO&&cn(e);return{c(){n&&n.c(),t=ee()},l(r){n&&n.l(r),t=ee()},m(r,o){n&&n.m(r,o),S(r,t,o)},p(r,o){r[5]===r[8].GEO?n?n.p(r,o):(n=cn(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&d(t),n&&n.d(r)}}}function gn(e){let t,n,r,o=e[5].split(",")[0]+"",l,i,h=G(e[1]),c=[];for(let s=0;s<h.length;s+=1)c[s]=mn(an(e,h,s));return{c(){t=O("div"),n=W("svg"),r=W("text"),l=ae(o);for(let s=0;s<c.length;s+=1)c[s].c();i=q(),this.h()},l(s){t=Y(s,"DIV",{class:!0});var f=F(t);n=V(f,"svg",{height:!0,width:!0,id:!0});var u=F(n);r=V(u,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var m=F(r);l=ue(m,o),m.forEach(d);for(let y=0;y<c.length;y+=1)c[y].l(u);u.forEach(d),i=J(f),f.forEach(d),this.h()},h(){a(r,"x","5"),a(r,"y",20),a(r,"id","cityLabel"),a(r,"text-anchor","start"),a(r,"font-size","15"),a(r,"class","svelte-9wop4q"),a(n,"height",145),a(n,"width",126),a(n,"id","svgChart"),a(t,"class","chart svelte-9wop4q")},m(s,f){S(s,t,f),v(t,n),v(n,r),v(r,l);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(n,null);v(t,i)},p(s,f){if(f&1&&o!==(o=s[5].split(",")[0]+"")&&Ae(l,o),f&3){h=G(s[1]);let u;for(u=0;u<h.length;u+=1){const m=an(s,h,u);c[u]?c[u].p(m,f):(c[u]=mn(m),c[u].c(),c[u].m(n,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=h.length}},d(s){s&&d(t),me(c,s)}}}function So(e){let t,n=G(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=gn(ln(e,n,o));return{c(){t=O("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=Y(o,"DIV",{id:!0,class:!0});var l=F(t);for(let i=0;i<r.length;i+=1)r[i].l(l);l.forEach(d),this.h()},h(){a(t,"id","chartWrapper"),a(t,"class","svelte-9wop4q")},m(o,l){S(o,t,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null)},p(o,[l]){if(l&3){n=G(o[0]);let i;for(i=0;i<n.length;i+=1){const h=ln(o,n,i);r[i]?r[i].p(h,l):(r[i]=gn(h),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:we,o:we,d(o){o&&d(t),me(r,o)}}}let Re=9,Pe=12;function Fo(e){const t=e.reduce((o,l)=>o+l,0),n=e.map(o=>Math.round(o)),r=Math.floor(t)-n.reduce((o,l)=>o+l,0);for(let o=0;o<r;o++)if(e[o]!==0){n[o]++;break}return n}function Ao(e,t,n){let r,o,l,{data:i}=t,{cities:h}=t;return e.$$set=c=>{"data"in c&&n(2,i=c.data),"cities"in c&&n(0,h=c.cities)},e.$$.update=()=>{e.$$.dirty&4&&n(4,r=vt(i,c=>c.GEO,c=>c.Type)),e.$$.dirty&16&&n(3,o=Array.from(r,([c,s])=>({GEO:c,sums:Array.from(s,([f,u])=>({Type:f,sumValue:wt(u,m=>m.VALUE)}))}))),e.$$.dirty&9&&n(3,o=o.filter(c=>h.includes(c.GEO))),e.$$.dirty&8&&n(1,l=o.map(c=>{const s=c.sums.filter(y=>y.Type!=="new").reduce((y,g)=>y+g.sumValue,0);let f=Math.round(100*c.sums.filter(y=>y.Type==="m-to-m")[0].sumValue/s),u=Math.round(100*c.sums.filter(y=>y.Type==="s-to-m")[0].sumValue/s),m=Math.round(100*c.sums.filter(y=>y.Type==="n-to-r")[0].sumValue/s);return[f,u,m]=Fo([f,u,m]),{GEO:c.GEO,PerMtoM:f,PerStoM:u,PerNtoR:m}})),e.$$.dirty&2&&console.log(l)},[h,l,i,o,r]}class Lo extends at{constructor(t){super(),ut(this,t,Ao,So,lt,{data:2,cities:0})}}var dn={},dt={},_t=34,Qe=10,yt=13;function En(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Oo(e,t){var n=En(e);return function(r,o){return t(n(r),o,e)}}function _n(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function he(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Yo(e){return e<0?"-"+he(-e,6):e>9999?"+"+he(e,6):he(e,4)}function Ho(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Yo(e.getUTCFullYear())+"-"+he(e.getUTCMonth()+1,2)+"-"+he(e.getUTCDate(),2)+(o?"T"+he(t,2)+":"+he(n,2)+":"+he(r,2)+"."+he(o,3)+"Z":r?"T"+he(t,2)+":"+he(n,2)+":"+he(r,2)+"Z":n||t?"T"+he(t,2)+":"+he(n,2)+"Z":"")}function zo(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(u,m){var y,g,k=o(u,function(T,M){if(y)return y(T,M-1);g=T,y=m?Oo(T,m):En(T)});return k.columns=g||[],k}function o(u,m){var y=[],g=u.length,k=0,T=0,M,L=g<=0,E=!1;u.charCodeAt(g-1)===Qe&&--g,u.charCodeAt(g-1)===yt&&--g;function A(){if(L)return dt;if(E)return E=!1,dn;var C,x=k,$;if(u.charCodeAt(x)===_t){for(;k++<g&&u.charCodeAt(k)!==_t||u.charCodeAt(++k)===_t;);return(C=k)>=g?L=!0:($=u.charCodeAt(k++))===Qe?E=!0:$===yt&&(E=!0,u.charCodeAt(k)===Qe&&++k),u.slice(x+1,C-1).replace(/""/g,'"')}for(;k<g;){if(($=u.charCodeAt(C=k++))===Qe)E=!0;else if($===yt)E=!0,u.charCodeAt(k)===Qe&&++k;else if($!==n)continue;return u.slice(x,C)}return L=!0,u.slice(x,g)}for(;(M=A())!==dt;){for(var Q=[];M!==dn&&M!==dt;)Q.push(M),M=A();m&&(Q=m(Q,T++))==null||y.push(Q)}return y}function l(u,m){return u.map(function(y){return m.map(function(g){return f(y[g])}).join(e)})}function i(u,m){return m==null&&(m=_n(u)),[m.map(f).join(e)].concat(l(u,m)).join(`
`)}function h(u,m){return m==null&&(m=_n(u)),l(u,m).join(`
`)}function c(u){return u.map(s).join(`
`)}function s(u){return u.map(f).join(e)}function f(u){return u==null?"":u instanceof Date?Ho(u):t.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:r,parseRows:o,format:i,formatBody:h,formatRows:c,formatRow:s,formatValue:f}}var No=zo(","),Wo=No.parse;function Vo(e){let t,n,r,o,l,i,h,c,s,f,u,m,y,g,k,T,M,L,E,A,Q='<div class="title"><h1>Tracking Residential Dwelling Conversions</h1> <h2>An Exploration of Canadian Building Permit Survey Data</h2> <h2></h2> <p><a href="https://jamaps.github.io" target="_blank">Jeff Allen</a> </p><p>July 2024</p></div>',C,x,$,se="<p>▼</p>",te,R,ye,pe='Many Canadian cities need more housing, both now and in the near future. While urban sprawl consumes green spaces and strains resources, the conversion and expansion of existing buildings offer a more sustainable path forward. <a href="https://imfg.org/research/doc/?doc_id=637" target="_blank">Urban sprawl has far worse impacts on climate change than infill development</a>. Moreover, using existing building stock and material to create new units saves on needing to procure and transport more building material.',j,ce,Z="Building conversions can include altering a single-family home to create additional dwelling units like a basement apartment, a duplex expanding into a triplex or fourplex, or a previously non-residential building being converted into residential units.",de,I,w="On this page, we chart how different Canadian urban regions are doing in terms of creating new residential dwelling units from building conversions, over a five year period of 2019 to 2023.",N,b,X='The data are sourced from Statistics Canada&#39;s <a href="https://www23.statcan.gc.ca/imdb/p2SV.pl?Function=getSurvey&amp;Id=418552&amp;" target="_blank">Building Permit Survey</a>. This survey tracks attributes of building permits by Census Metropolitan Area (CMA) on a monthly basis. The survey includes the number of new dwelling units that were created due to building conversions, as well as has categories for three types of conversions (non-residential to residential, single dwelling to multiple dwellings, and multiple to multiple).',xe,ve,Le="Overall across Canada there were <b>104,425</b> new dwelling units created via conversions from 01/2019 to 12/2023. This is <b>7.9%</b> of all new residential dwelling units created during this period, based on the data recorded in the building permit survey. Below we chart how this varies by CMA, trends over time, as well as different types of building conversions.",Ue,Ee,Se,p,U,D,_=`<h3>New dwellings from building conversions, 01/2019 to 12/2023</h3> <p style="font-size: 15px"><svg height="15" width="28"><text x="14" y="11" text-anchor="middle" font-size="12" style="fill: #ab1269;">100</text><line x1="0" y1="14" x2="28" y2="14" style="stroke: #ab1269; stroke-width: 3;"></line></svg>
				Yearly totals
				<svg height="25" width="25"><line x1="5" y1="20" x2="5" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="10" y1="15" x2="10" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="15" y1="5" x2="15" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="20" y1="10" x2="20" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line></svg>
				Monthly trends</p>`,re,H,ie,K,Te='<h3>Proportion of new dwellings by type of building conversion</h3> <div style="margin-top: -15px"><svg height="25" width="300"><text x="0" y="12" id="years" text-anchor="start" font-size="16" class="svelte-1r8v4yd">01/2019 to 12/2023 (5 years total)</text></svg></div> <p style="font-size: 15px; margin-bottom: -25px"><svg height="100" width="400"><text x="0" y="12" text-anchor="start" font-size="16" style="fill: #1470ad;">One square = 1% of new dwellings from conversions</text><rect x="0" y="27" width="9" height="9" fill="#3597CE"></rect><text x="15" y="37" text-anchor="start" font-size="16" style="fill: #1470ad;">Non-residential to residential</text><rect x="0" y="52" width="9" height="9" fill="#F1C500"></rect><text x="15" y="62" text-anchor="start" font-size="16" style="fill: #1470ad;">Single dwelling to multiple dwellings</text><rect x="0" y="77" width="9" height="9" fill="#ce6c35"></rect><text x="15" y="87" text-anchor="start" font-size="16" style="fill: #1470ad;">Multiple dwellings to multiple dwellings</text></svg></p>',Ne,Fe,qe;return M=new Yn({}),p=new yo({props:{data:e[0],cities:e[1]}}),H=new Do({props:{data:e[0],cities:e[1]}}),Fe=new Lo({props:{data:e[0],cities:e[1]}}),{c(){t=O("meta"),n=O("meta"),r=O("meta"),o=O("meta"),l=O("meta"),i=O("meta"),h=O("meta"),c=O("meta"),s=O("meta"),f=O("meta"),u=O("meta"),m=O("meta"),y=O("meta"),g=O("meta"),k=O("meta"),T=q(),Je(M.$$.fragment),L=q(),E=O("main"),A=O("div"),A.innerHTML=Q,C=q(),x=O("div"),$=O("div"),$.innerHTML=se,te=q(),R=O("div"),ye=O("p"),ye.innerHTML=pe,j=q(),ce=O("p"),ce.textContent=Z,de=q(),I=O("p"),I.textContent=w,N=q(),b=O("p"),b.innerHTML=X,xe=q(),ve=O("p"),ve.innerHTML=Le,Ue=q(),Ee=O("br"),Se=q(),Je(p.$$.fragment),U=q(),D=O("div"),D.innerHTML=_,re=q(),Je(H.$$.fragment),ie=q(),K=O("div"),K.innerHTML=Te,Ne=q(),Je(Fe.$$.fragment),this.h()},l(B){const P=Ln("svelte-1wm0gg3",document.head);t=Y(P,"META",{name:!0,content:!0}),n=Y(P,"META",{name:!0,content:!0}),r=Y(P,"META",{name:!0,content:!0}),o=Y(P,"META",{property:!0,content:!0}),l=Y(P,"META",{property:!0,content:!0}),i=Y(P,"META",{property:!0,content:!0}),h=Y(P,"META",{property:!0,content:!0}),c=Y(P,"META",{property:!0,content:!0}),s=Y(P,"META",{property:!0,content:!0}),f=Y(P,"META",{name:!0,content:!0}),u=Y(P,"META",{name:!0,content:!0}),m=Y(P,"META",{name:!0,content:!0}),y=Y(P,"META",{name:!0,content:!0}),g=Y(P,"META",{name:!0,content:!0}),k=Y(P,"META",{name:!0,content:!0}),P.forEach(d),T=J(B),Xe(M.$$.fragment,B),L=J(B),E=Y(B,"MAIN",{});var Oe=F(E);A=Y(Oe,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),be(A)!=="svelte-1b4pu1x"&&(A.innerHTML=Q),C=J(Oe),x=Y(Oe,"DIV",{class:!0});var fe=F(x);$=Y(fe,"DIV",{class:!0,"data-svelte-h":!0}),be($)!=="svelte-1s98lsq"&&($.innerHTML=se),te=J(fe),R=Y(fe,"DIV",{class:!0});var le=F(R);ye=Y(le,"P",{"data-svelte-h":!0}),be(ye)!=="svelte-1l80yt2"&&(ye.innerHTML=pe),j=J(le),ce=Y(le,"P",{"data-svelte-h":!0}),be(ce)!=="svelte-gkysvv"&&(ce.textContent=Z),de=J(le),I=Y(le,"P",{"data-svelte-h":!0}),be(I)!=="svelte-1089ynd"&&(I.textContent=w),N=J(le),b=Y(le,"P",{"data-svelte-h":!0}),be(b)!=="svelte-axc11o"&&(b.innerHTML=X),xe=J(le),ve=Y(le,"P",{"data-svelte-h":!0}),be(ve)!=="svelte-2ynwdo"&&(ve.innerHTML=Le),Ue=J(le),Ee=Y(le,"BR",{}),Se=J(le),Xe(p.$$.fragment,le),le.forEach(d),U=J(fe),D=Y(fe,"DIV",{class:!0,"data-svelte-h":!0}),be(D)!=="svelte-1eecfim"&&(D.innerHTML=_),re=J(fe),Xe(H.$$.fragment,fe),ie=J(fe),K=Y(fe,"DIV",{class:!0,"data-svelte-h":!0}),be(K)!=="svelte-10fv0b3"&&(K.innerHTML=Te),Ne=J(fe),Xe(Fe.$$.fragment,fe),fe.forEach(d),Oe.forEach(d),this.h()},h(){a(t,"name","viewport"),a(t,"content","width=device-width, initial-scale=1, minimum-scale=1"),document.title="Residential Conversions Across Canada | School of Cities",a(n,"name","description"),a(n,"content","Analyzing how often Toronto is losing dwelling units due to reno-ductions of small multi-family structures such as duplexes and triplexes being converted into single-family homes"),a(r,"name","author"),a(r,"content","Jeff Allen"),a(o,"property","og:title"),a(o,"content","Reno-ductions: Loss of Gentle Density in Toronto"),a(l,"property","og:description"),a(l,"content","Analyzing how often Toronto is losing dwelling units due to reno-ductions of small multi-family structures such as duplexes and triplexes being converted into single-family homes"),a(i,"property","og:type"),a(i,"content","website"),a(h,"property","og:url"),a(h,"content","https://schoolofcities.github.io/gentle-density/toronto-renoductions"),a(c,"property","og:image"),a(c,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-renoductions-toronto.png"),a(s,"property","og:locale"),a(s,"content","en_CA"),a(f,"name","twitter:card"),a(f,"content","summary_large_image"),a(u,"name","twitter:site"),a(u,"content","https://schoolofcities.github.io/gentle-density/toronto-renoductions"),a(m,"name","twitter:creator"),a(m,"content","@JeffAllenMaps"),a(y,"name","twitter:title"),a(y,"content","Reno-ductions: Loss of Gentle Density in Toronto"),a(g,"name","twitter:description"),a(g,"content","Analyzing how often Toronto is losing dwelling units due to reno-ductions of small multi-family structures such as duplexes and triplexes being converted into single-family homes"),a(k,"name","twitter:image"),a(k,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-renoductions-toronto.png"),a(A,"class","blueprint"),ge(A,"background-image","url('../gentle-density/blueprint-background-convert.png')"),a($,"class","arrow"),a(R,"class","text"),a(D,"class","text"),a(K,"class","text"),a(x,"class","background-white")},m(B,P){v(document.head,t),v(document.head,n),v(document.head,r),v(document.head,o),v(document.head,l),v(document.head,i),v(document.head,h),v(document.head,c),v(document.head,s),v(document.head,f),v(document.head,u),v(document.head,m),v(document.head,y),v(document.head,g),v(document.head,k),S(B,T,P),Ke(M,B,P),S(B,L,P),S(B,E,P),v(E,A),v(E,C),v(E,x),v(x,$),v(x,te),v(x,R),v(R,ye),v(R,j),v(R,ce),v(R,de),v(R,I),v(R,N),v(R,b),v(R,xe),v(R,ve),v(R,Ue),v(R,Ee),v(R,Se),Ke(p,R,null),v(x,U),v(x,D),v(x,re),Ke(H,x,null),v(x,ie),v(x,K),v(x,Ne),Ke(Fe,x,null),qe=!0},p(B,[P]){const Oe={};P&1&&(Oe.data=B[0]),p.$set(Oe);const fe={};P&1&&(fe.data=B[0]),H.$set(fe);const le={};P&1&&(le.data=B[0]),Fe.$set(le)},i(B){qe||(et(M.$$.fragment,B),et(p.$$.fragment,B),et(H.$$.fragment,B),et(Fe.$$.fragment,B),qe=!0)},o(B){tt(M.$$.fragment,B),tt(p.$$.fragment,B),tt(H.$$.fragment,B),tt(Fe.$$.fragment,B),qe=!1},d(B){B&&(d(T),d(L),d(E)),d(t),d(n),d(r),d(o),d(l),d(i),d(h),d(c),d(s),d(f),d(u),d(m),d(y),d(g),d(k),nt(M,B),nt(p),nt(H),nt(Fe)}}}function Io(e,t,n){let r=[];async function o(){try{const h=await(await fetch("conversions-canada-2018-to-2024.csv")).text();n(0,r=Wo(h)),n(0,r=r.filter(c=>!c.REF_DATE.includes("2024"))),n(0,r=r.filter(c=>!c.REF_DATE.includes("2018"))),r.forEach(c=>{c.VALUE=parseFloat(c.VALUE)})}catch(i){console.error("Error loading CSV data:",i)}}return On(()=>{o()}),[r,["All Canada","Abbotsford-Mission, British Columbia","Barrie, Ontario","Belleville-Quinte West, Ontario","Brantford, Ontario","Calgary, Alberta","Chilliwack, British Columbia","Edmonton, Alberta","Fredericton, New Brunswick","Greater Sudbury, Ontario","Guelph, Ontario","Halifax, Nova Scotia","Hamilton, Ontario","Kamloops, British Columbia","Kelowna, British Columbia","Kingston, Ontario","Kitchener-Cambridge-Waterloo, Ontario","Lethbridge, Alberta","London, Ontario","Moncton, New Brunswick","Montréal, Quebec","Nanaimo, British Columbia","Oshawa, Ontario","Ottawa-Gatineau, Ontario-Quebec","Québec, Quebec","Peterborough, Ontario","Regina, Saskatchewan","Saguenay, Quebec","Saint John, New Brunswick","Saskatoon, Saskatchewan","Sherbrooke, Quebec","St. Catharines-Niagara, Ontario","St. John's, Newfoundland and Labrador","Thunder Bay, Ontario","Toronto, Ontario","Trois-Rivières, Quebec","Vancouver, British Columbia","Victoria, British Columbia","Windsor, Ontario","Winnipeg, Manitoba"]]}class Zo extends at{constructor(t){super(),ut(this,t,Io,Vo,lt,{})}}export{Zo as component,Qo as universal};
