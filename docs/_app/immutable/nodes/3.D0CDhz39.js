import{s as at,e as Y,b as q,P as B,t as le,p as ae,d as H,A as Me,j as J,Q as R,f as E,h as ie,i as d,v as a,G as On,k as D,l as w,R as Ln,n as Te,S as _e,$ as rt,T as pn,w as ye,m as Ue,U as Yn,r as Hn}from"../chunks/scheduler.-OitRhUq.js";import{S as ut,i as st,b as Je,d as Xe,m as Ke,t as et,a as tt,e as nt}from"../chunks/index.B1cI3WIg.js";import{T as zn}from"../chunks/styles.tkbo2nM_.js";import{i as wn,e as j,g as wt}from"../chunks/init.Csoud8Yr.js";import{s as Tt}from"../chunks/sum.CB6J5KXz.js";import{t as Vn,c as Tn,a as Ut,f as Nn,b as Wn,d as In,e as xt,g as Bn,l as pt}from"../chunks/linear.BEmTfIAv.js";function Rn(e,t){let n=0,r=0;for(let o of e)o!=null&&(o=+o)>=o&&(++n,r+=o);if(n)return r/n}function bn(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],i=e[r],l;return i<o&&(l=n,n=r,r=l,l=o,o=i,i=l),e[n]=t.floor(o),e[r]=t.ceil(i),e}function St(e){return Math.log(e)}function Et(e){return Math.exp(e)}function Pn(e){return-Math.log(-e)}function Gn(e){return-Math.exp(-e)}function $n(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jn(e){return e===10?$n:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Qn(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ft(e){return(t,n)=>-e(-t,n)}function Zn(e){const t=e(St,Et),n=t.domain;let r=10,o,i;function l(){return o=Qn(r),i=jn(r),n()[0]<0?(o=Ft(o),i=Ft(i),e(Pn,Gn)):e(St,Et),t}return t.base=function(h){return arguments.length?(r=+h,l()):r},t.domain=function(h){return arguments.length?(n(h),l()):n()},t.ticks=h=>{const c=n();let s=c[0],f=c[c.length-1];const u=f<s;u&&([s,f]=[f,s]);let g=o(s),v=o(f),m,M;const b=h==null?10:+h;let F=[];if(!(r%1)&&v-g<b){if(g=Math.floor(g),v=Math.ceil(v),s>0){for(;g<=v;++g)for(m=1;m<r;++m)if(M=g<0?m/i(-g):m*i(g),!(M<s)){if(M>f)break;F.push(M)}}else for(;g<=v;++g)for(m=r-1;m>=1;--m)if(M=g>0?m/i(-g):m*i(g),!(M<s)){if(M>f)break;F.push(M)}F.length*2<b&&(F=Ut(s,f,b))}else F=Ut(g,v,Math.min(v-g,b)).map(i);return u?F.reverse():F},t.tickFormat=(h,c)=>{if(h==null&&(h=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Nn(c)).precision==null&&(c.trim=!0),c=Wn(c)),h===1/0)return c;const s=Math.max(1,r*h/t.ticks().length);return f=>{let u=f/i(Math.round(o(f)));return u*r<r-.5&&(u*=r),u<=s?c(f):""}},t.nice=()=>n(bn(n(),{floor:h=>i(Math.floor(o(h))),ceil:h=>i(Math.ceil(o(h)))})),t}function Mn(){const e=Zn(Vn()).domain([1,10]);return e.copy=()=>Tn(e,Mn()).base(e.base()),wn.apply(e,arguments),e}const ft=new Date,ht=new Date;function ue(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{const l=o(i),h=o.ceil(i);return i-l<h-i?l:h},o.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),o.range=(i,l,h)=>{const c=[];if(i=o.ceil(i),h=h==null?1:Math.floor(h),!(i<l)||!(h>0))return c;let s;do c.push(s=new Date(+i)),t(i,h),e(i);while(s<i&&i<l);return c},o.filter=i=>ue(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,h)=>{if(l>=l)if(h<0)for(;++h<=0;)for(;t(l,-1),!i(l););else for(;--h>=0;)for(;t(l,1),!i(l););}),n&&(o.count=(i,l)=>(ft.setTime(+i),ht.setTime(+l),e(ft),e(ht),Math.floor(n(ft,ht))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?l=>r(l)%i===0:l=>o.count(0,l)%i===0):o)),o}const ot=ue(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ot.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ue(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ot);ot.range;const ke=1e3,pe=ke*60,De=pe*60,xe=De*24,bt=xe*7,At=xe*30,mt=xe*365,We=ue(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getUTCSeconds());We.range;const Mt=ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ke)},(e,t)=>{e.setTime(+e+t*pe)},(e,t)=>(t-e)/pe,e=>e.getMinutes());Mt.range;const qn=ue(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pe)},(e,t)=>(t-e)/pe,e=>e.getUTCMinutes());qn.range;const Ct=ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ke-e.getMinutes()*pe)},(e,t)=>{e.setTime(+e+t*De)},(e,t)=>(t-e)/De,e=>e.getHours());Ct.range;const Jn=ue(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*De)},(e,t)=>(t-e)/De,e=>e.getUTCHours());Jn.range;const Ze=ue(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pe)/xe,e=>e.getDate()-1);Ze.range;const kt=ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xe,e=>e.getUTCDate()-1);kt.range;const Xn=ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xe,e=>Math.floor(e/xe));Xn.range;function He(e){return ue(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*pe)/bt)}const ct=He(0),lt=He(1),Kn=He(2),er=He(3),Ie=He(4),tr=He(5),nr=He(6);ct.range;lt.range;Kn.range;er.range;Ie.range;tr.range;nr.range;function ze(e){return ue(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/bt)}const Cn=ze(0),it=ze(1),rr=ze(2),or=ze(3),Be=ze(4),lr=ze(5),ir=ze(6);Cn.range;it.range;rr.range;or.range;Be.range;lr.range;ir.range;const Dt=ue(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dt.range;const ar=ue(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ar.range;const Se=ue(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Se.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ue(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Se.range;const Ye=ue(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ye.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ue(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ye.range;function ur(e,t,n,r,o,i){const l=[[We,1,ke],[We,5,5*ke],[We,15,15*ke],[We,30,30*ke],[i,1,pe],[i,5,5*pe],[i,15,15*pe],[i,30,30*pe],[o,1,De],[o,3,3*De],[o,6,6*De],[o,12,12*De],[r,1,xe],[r,2,2*xe],[n,1,bt],[t,1,At],[t,3,3*At],[e,1,mt]];function h(s,f,u){const g=f<s;g&&([s,f]=[f,s]);const v=u&&typeof u.range=="function"?u:c(s,f,u),m=v?v.range(s,+f+1):[];return g?m.reverse():m}function c(s,f,u){const g=Math.abs(f-s)/u,v=In(([,,b])=>b).right(l,g);if(v===l.length)return e.every(xt(s/mt,f/mt,u));if(v===0)return ot.every(Math.max(xt(s,f,u),1));const[m,M]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return m.every(M)}return[h,c]}const[sr,cr]=ur(Se,Dt,ct,Ze,Ct,Mt);function gt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ge(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function fr(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,l=e.shortDays,h=e.months,c=e.shortMonths,s=$e(o),f=je(o),u=$e(i),g=je(i),v=$e(l),m=je(l),M=$e(h),b=je(h),F=$e(c),I=je(c),A={a:ve,A:G,b:we,B:X,c:null,d:Vt,e:Vt,f:Lr,g:Pr,G:$r,H:Fr,I:Ar,j:Or,L:kn,m:Yr,M:Hr,p:me,q:te,Q:It,s:Bt,S:zr,u:Vr,U:Nr,V:Wr,w:Ir,W:Br,x:null,X:null,y:Rr,Y:Gr,Z:jr,"%":Wt},V={a:y,A:O,b:p,B:Q,c:null,d:Nt,e:Nt,f:Jr,g:ao,G:so,H:Qr,I:Zr,j:qr,L:Un,m:Xr,M:Kr,p:Fe,q:Ae,Q:It,s:Bt,S:eo,u:to,U:no,V:ro,w:oo,W:lo,x:null,X:null,y:io,Y:uo,Z:co,"%":Wt},U={a:fe,A:N,b:K,B:Ce,c:Ee,d:Ht,e:Ht,f:Ur,g:Yt,G:Lt,H:zt,I:zt,j:Mr,L:Dr,m:br,M:Cr,p:oe,q:Tr,Q:Sr,s:Er,S:kr,u:_r,U:yr,V:vr,w:dr,W:pr,x:he,X:ee,y:Yt,Y:Lt,Z:wr,"%":xr};A.x=C(n,A),A.X=C(r,A),A.c=C(t,A),V.x=C(n,V),V.X=C(r,V),V.c=C(t,V);function C(T,x){return function(S){var _=[],ne=-1,L=0,re=T.length,z,be,Ve;for(S instanceof Date||(S=new Date(+S));++ne<re;)T.charCodeAt(ne)===37&&(_.push(T.slice(L,ne)),(be=Ot[z=T.charAt(++ne)])!=null?z=T.charAt(++ne):be=z==="e"?" ":"0",(Ve=x[z])&&(z=Ve(S,be)),_.push(z),L=ne+1);return _.push(T.slice(L,ne)),_.join("")}}function k(T,x){return function(S){var _=Ge(1900,void 0,1),ne=P(_,T,S+="",0),L,re;if(ne!=S.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(_.s*1e3+("L"in _?_.L:0));if(x&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+_.p*12),_.m===void 0&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(L=dt(Ge(_.y,0,1)),re=L.getUTCDay(),L=re>4||re===0?it.ceil(L):it(L),L=kt.offset(L,(_.V-1)*7),_.y=L.getUTCFullYear(),_.m=L.getUTCMonth(),_.d=L.getUTCDate()+(_.w+6)%7):(L=gt(Ge(_.y,0,1)),re=L.getDay(),L=re>4||re===0?lt.ceil(L):lt(L),L=Ze.offset(L,(_.V-1)*7),_.y=L.getFullYear(),_.m=L.getMonth(),_.d=L.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),re="Z"in _?dt(Ge(_.y,0,1)).getUTCDay():gt(Ge(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+_.W*7-(re+5)%7:_.w+_.U*7-(re+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,dt(_)):gt(_)}}function P(T,x,S,_){for(var ne=0,L=x.length,re=S.length,z,be;ne<L;){if(_>=re)return-1;if(z=x.charCodeAt(ne++),z===37){if(z=x.charAt(ne++),be=U[z in Ot?x.charAt(ne++):z],!be||(_=be(T,S,_))<0)return-1}else if(z!=S.charCodeAt(_++))return-1}return _}function oe(T,x,S){var _=s.exec(x.slice(S));return _?(T.p=f.get(_[0].toLowerCase()),S+_[0].length):-1}function fe(T,x,S){var _=v.exec(x.slice(S));return _?(T.w=m.get(_[0].toLowerCase()),S+_[0].length):-1}function N(T,x,S){var _=u.exec(x.slice(S));return _?(T.w=g.get(_[0].toLowerCase()),S+_[0].length):-1}function K(T,x,S){var _=F.exec(x.slice(S));return _?(T.m=I.get(_[0].toLowerCase()),S+_[0].length):-1}function Ce(T,x,S){var _=M.exec(x.slice(S));return _?(T.m=b.get(_[0].toLowerCase()),S+_[0].length):-1}function Ee(T,x,S){return P(T,t,x,S)}function he(T,x,S){return P(T,n,x,S)}function ee(T,x,S){return P(T,r,x,S)}function ve(T){return l[T.getDay()]}function G(T){return i[T.getDay()]}function we(T){return c[T.getMonth()]}function X(T){return h[T.getMonth()]}function me(T){return o[+(T.getHours()>=12)]}function te(T){return 1+~~(T.getMonth()/3)}function y(T){return l[T.getUTCDay()]}function O(T){return i[T.getUTCDay()]}function p(T){return c[T.getUTCMonth()]}function Q(T){return h[T.getUTCMonth()]}function Fe(T){return o[+(T.getUTCHours()>=12)]}function Ae(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var x=C(T+="",A);return x.toString=function(){return T},x},parse:function(T){var x=k(T+="",!1);return x.toString=function(){return T},x},utcFormat:function(T){var x=C(T+="",V);return x.toString=function(){return T},x},utcParse:function(T){var x=k(T+="",!0);return x.toString=function(){return T},x}}}var Ot={"-":"",_:" ",0:"0"},se=/^\s*\d+/,hr=/^%/,mr=/[\\^$*+?|[\]().{}]/g;function W(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function gr(e){return e.replace(mr,"\\$&")}function $e(e){return new RegExp("^(?:"+e.map(gr).join("|")+")","i")}function je(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function dr(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _r(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function yr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Lt(e,t,n){var r=se.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yt(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wr(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Tr(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function br(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ht(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Mr(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zt(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Cr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Dr(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ur(e,t,n){var r=se.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xr(e,t,n){var r=hr.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Sr(e,t,n){var r=se.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Er(e,t,n){var r=se.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Vt(e,t){return W(e.getDate(),t,2)}function Fr(e,t){return W(e.getHours(),t,2)}function Ar(e,t){return W(e.getHours()%12||12,t,2)}function Or(e,t){return W(1+Ze.count(Se(e),e),t,3)}function kn(e,t){return W(e.getMilliseconds(),t,3)}function Lr(e,t){return kn(e,t)+"000"}function Yr(e,t){return W(e.getMonth()+1,t,2)}function Hr(e,t){return W(e.getMinutes(),t,2)}function zr(e,t){return W(e.getSeconds(),t,2)}function Vr(e){var t=e.getDay();return t===0?7:t}function Nr(e,t){return W(ct.count(Se(e)-1,e),t,2)}function Dn(e){var t=e.getDay();return t>=4||t===0?Ie(e):Ie.ceil(e)}function Wr(e,t){return e=Dn(e),W(Ie.count(Se(e),e)+(Se(e).getDay()===4),t,2)}function Ir(e){return e.getDay()}function Br(e,t){return W(lt.count(Se(e)-1,e),t,2)}function Rr(e,t){return W(e.getFullYear()%100,t,2)}function Pr(e,t){return e=Dn(e),W(e.getFullYear()%100,t,2)}function Gr(e,t){return W(e.getFullYear()%1e4,t,4)}function $r(e,t){var n=e.getDay();return e=n>=4||n===0?Ie(e):Ie.ceil(e),W(e.getFullYear()%1e4,t,4)}function jr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+W(t/60|0,"0",2)+W(t%60,"0",2)}function Nt(e,t){return W(e.getUTCDate(),t,2)}function Qr(e,t){return W(e.getUTCHours(),t,2)}function Zr(e,t){return W(e.getUTCHours()%12||12,t,2)}function qr(e,t){return W(1+kt.count(Ye(e),e),t,3)}function Un(e,t){return W(e.getUTCMilliseconds(),t,3)}function Jr(e,t){return Un(e,t)+"000"}function Xr(e,t){return W(e.getUTCMonth()+1,t,2)}function Kr(e,t){return W(e.getUTCMinutes(),t,2)}function eo(e,t){return W(e.getUTCSeconds(),t,2)}function to(e){var t=e.getUTCDay();return t===0?7:t}function no(e,t){return W(Cn.count(Ye(e)-1,e),t,2)}function xn(e){var t=e.getUTCDay();return t>=4||t===0?Be(e):Be.ceil(e)}function ro(e,t){return e=xn(e),W(Be.count(Ye(e),e)+(Ye(e).getUTCDay()===4),t,2)}function oo(e){return e.getUTCDay()}function lo(e,t){return W(it.count(Ye(e)-1,e),t,2)}function io(e,t){return W(e.getUTCFullYear()%100,t,2)}function ao(e,t){return e=xn(e),W(e.getUTCFullYear()%100,t,2)}function uo(e,t){return W(e.getUTCFullYear()%1e4,t,4)}function so(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Be(e):Be.ceil(e),W(e.getUTCFullYear()%1e4,t,4)}function co(){return"+0000"}function Wt(){return"%"}function It(e){return+e}function Bt(e){return Math.floor(+e/1e3)}var Ne,Sn,En;fo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fo(e){return Ne=fr(e),Sn=Ne.format,En=Ne.parse,Ne.utcFormat,Ne.utcParse,Ne}function ho(e){return new Date(e)}function mo(e){return e instanceof Date?+e:+new Date(+e)}function Fn(e,t,n,r,o,i,l,h,c,s){var f=Bn(),u=f.invert,g=f.domain,v=s(".%L"),m=s(":%S"),M=s("%I:%M"),b=s("%I %p"),F=s("%a %d"),I=s("%b %d"),A=s("%B"),V=s("%Y");function U(C){return(c(C)<C?v:h(C)<C?m:l(C)<C?M:i(C)<C?b:r(C)<C?o(C)<C?F:I:n(C)<C?A:V)(C)}return f.invert=function(C){return new Date(u(C))},f.domain=function(C){return arguments.length?g(Array.from(C,mo)):g().map(ho)},f.ticks=function(C){var k=g();return e(k[0],k[k.length-1],C??10)},f.tickFormat=function(C,k){return k==null?U:s(k)},f.nice=function(C){var k=g();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?g(bn(k,C)):f},f.copy=function(){return Tn(f,Fn(e,t,n,r,o,i,l,h,c,s))},f}function go(){return wn.apply(Fn(sr,cr,Se,Dt,ct,Ze,Ct,Mt,We,Sn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const _o=!0,qo=Object.freeze(Object.defineProperty({__proto__:null,prerender:_o},Symbol.toStringTag,{value:"Module"}));function Rt(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Pt(e,t,n){const r=e.slice();return r[22]=t[n],r}function Gt(e,t,n){const r=e.slice();return r[25]=t[n],r}function $t(e,t,n){const r=e.slice();return r[25]=t[n],r}function jt(e){let t,n=e[25]+"",r,o,i,l,h;function c(){return e[15](e[25])}return{c(){t=Y("div"),r=le(n),o=q(),this.h()},l(s){t=H(s,"DIV",{class:!0});var f=E(t);r=ie(f,n),o=J(f),f.forEach(d),this.h()},h(){a(t,"class",i=rt(e[25]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")},m(s,f){D(s,t,f),w(t,r),w(t,o),l||(h=pn(t,"click",c),l=!0)},p(s,f){e=s,f&1&&i!==(i=rt(e[25]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")&&a(t,"class",i)},d(s){s&&d(t),l=!1,h()}}}function Qt(e){let t,n=e[25]+"",r,o,i,l,h;function c(){return e[16](e[25])}return{c(){t=Y("div"),r=le(n),o=q(),this.h()},l(s){t=H(s,"DIV",{class:!0});var f=E(t);r=ie(f,n),o=J(f),f.forEach(d),this.h()},h(){a(t,"class",i=rt(e[25]===e[2]?"option-selected":"option-not-selected")+" svelte-19rgk4g")},m(s,f){D(s,t,f),w(t,r),w(t,o),l||(h=pn(t,"click",c),l=!0)},p(s,f){e=s,f&4&&i!==(i=rt(e[25]===e[2]?"option-selected":"option-not-selected")+" svelte-19rgk4g")&&a(t,"class",i)},d(s){s&&d(t),l=!1,h()}}}function Zt(e){let t,n,r,o,i=Jt(e[22])+"",l,h;return{c(){t=B("line"),o=B("text"),l=le(i),this.h()},l(c){t=R(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),o=R(c,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var s=E(o);l=ie(s,i),s.forEach(d),this.h()},h(){a(t,"x1",n=e[4](e[22])),a(t,"y1","25"),a(t,"x2",r=e[4](e[22])),a(t,"y2",e[10]),ye(t,"stroke","#8EB6DC"),ye(t,"stroke-width","1"),ye(t,"opacity","0.5"),a(o,"x",h=e[4](e[22])),a(o,"y","20"),a(o,"id","labelBar"),a(o,"text-anchor","middle"),a(o,"font-size","16"),a(o,"class","svelte-19rgk4g")},m(c,s){D(c,t,s),D(c,o,s),w(o,l)},p(c,s){s&24&&n!==(n=c[4](c[22]))&&a(t,"x1",n),s&24&&r!==(r=c[4](c[22]))&&a(t,"x2",r),s&8&&i!==(i=Jt(c[22])+"")&&Ue(l,i),s&24&&h!==(h=c[4](c[22]))&&a(o,"x",h)},d(c){c&&(d(t),d(o))}}}function qt(e){let t,n=e[19].GEO.split(",")[0]+"",r,o,i=e[19].conv+"",l,h,c=Math.round(100*e[19].per)+"",s,f,u,g,v;return{c(){t=B("text"),r=le(n),o=le(": "),l=le(i),h=le(" ("),s=le(c),f=le("%)"),u=B("rect"),this.h()},l(m){t=R(m,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var M=E(t);r=ie(M,n),o=ie(M,": "),l=ie(M,i),h=ie(M," ("),s=ie(M,c),f=ie(M,"%)"),M.forEach(d),u=R(m,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(u).forEach(d),this.h()},h(){a(t,"x","0"),a(t,"y",e[21]*32+43),a(t,"id","labelBar"),a(t,"text-anchor","start"),a(t,"font-size","16"),a(t,"class","svelte-19rgk4g"),a(u,"id","bar"),a(u,"x",0),a(u,"y",e[21]*32+47),a(u,"height",8),a(u,"width",g=e[4](e[19].conv)),a(u,"fill",v=e[19].colour)},m(m,M){D(m,t,M),w(t,r),w(t,o),w(t,l),w(t,h),w(t,s),w(t,f),D(m,u,M)},p(m,M){M&32&&n!==(n=m[19].GEO.split(",")[0]+"")&&Ue(r,n),M&32&&i!==(i=m[19].conv+"")&&Ue(l,i),M&32&&c!==(c=Math.round(100*m[19].per)+"")&&Ue(s,c),M&48&&g!==(g=m[4](m[19].conv))&&a(u,"width",g),M&32&&v!==(v=m[19].colour)&&a(u,"fill",v)},d(m){m&&(d(t),d(u))}}}function yo(e){let t,n="Total and percent of new dwellings from building conversions",r,o,i,l,h,c,s,f,u,g,v,m,M,b,F,I,A,V,U,C,k,P,oe,fe,N,K,Ce,Ee,he=j(e[6]),ee=[];for(let y=0;y<he.length;y+=1)ee[y]=jt($t(e,he,y));let ve=j(e[8]),G=[];for(let y=0;y<ve.length;y+=1)G[y]=Qt(Gt(e,ve,y));let we=j(e[3]),X=[];for(let y=0;y<we.length;y+=1)X[y]=Zt(Pt(e,we,y));let me=j(e[5]),te=[];for(let y=0;y<me.length;y+=1)te[y]=qt(Rt(e,me,y));return{c(){t=Y("h3"),t.textContent=n,r=q(),o=B("svg"),i=B("text"),l=le("01/2019 to 12/2023 (5 years total)"),h=q(),c=B("svg"),s=B("text"),f=le("% of all new dwelling units from conversions"),u=B("rect"),g=B("rect"),v=B("rect"),m=B("text"),M=le("5%"),b=B("text"),F=le("10%"),I=q(),A=B("svg"),V=B("text"),U=le("Number of new dwelling units from conversions"),C=q(),k=Y("div");for(let y=0;y<ee.length;y+=1)ee[y].c();P=q(),oe=Y("div");for(let y=0;y<G.length;y+=1)G[y].c();fe=q(),N=Y("div"),K=B("svg");for(let y=0;y<X.length;y+=1)X[y].c();Ce=ae();for(let y=0;y<te.length;y+=1)te[y].c();this.h()},l(y){t=H(y,"H3",{"data-svelte-h":!0}),Me(t)!=="svelte-n00m8l"&&(t.textContent=n),r=J(y),o=R(y,"svg",{id:!0,height:!0,width:!0,class:!0});var O=E(o);i=R(O,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var p=E(i);l=ie(p,"01/2019 to 12/2023 (5 years total)"),p.forEach(d),O.forEach(d),h=J(y),c=R(y,"svg",{id:!0,height:!0,width:!0,class:!0});var Q=E(c);s=R(Q,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var Fe=E(s);f=ie(Fe,"% of all new dwelling units from conversions"),Fe.forEach(d),u=R(Q,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(u).forEach(d),g=R(Q,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(g).forEach(d),v=R(Q,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(v).forEach(d),m=R(Q,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var Ae=E(m);M=ie(Ae,"5%"),Ae.forEach(d),b=R(Q,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var T=E(b);F=ie(T,"10%"),T.forEach(d),Q.forEach(d),I=J(y),A=R(y,"svg",{id:!0,height:!0,width:!0,class:!0});var x=E(A);V=R(x,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var S=E(V);U=ie(S,"Number of new dwelling units from conversions"),S.forEach(d),x.forEach(d),C=J(y),k=H(y,"DIV",{class:!0});var _=E(k);for(let z=0;z<ee.length;z+=1)ee[z].l(_);_.forEach(d),P=J(y),oe=H(y,"DIV",{class:!0});var ne=E(oe);for(let z=0;z<G.length;z+=1)G[z].l(ne);ne.forEach(d),fe=J(y),N=H(y,"DIV",{class:!0});var L=E(N);K=R(L,"svg",{height:!0,width:!0,id:!0});var re=E(K);for(let z=0;z<X.length;z+=1)X[z].l(re);Ce=ae();for(let z=0;z<te.length;z+=1)te[z].l(re);re.forEach(d),L.forEach(d),this.h()},h(){a(i,"x","0"),a(i,"y","12"),a(i,"id","labelBar"),a(i,"text-anchor","start"),a(i,"font-size","16"),a(i,"class","svelte-19rgk4g"),a(o,"id","years"),a(o,"height","35"),a(o,"width",e[1]),a(o,"class","svelte-19rgk4g"),a(s,"x","0"),a(s,"y","12"),a(s,"id","labelBar"),a(s,"text-anchor","start"),a(s,"font-size","16"),a(s,"class","svelte-19rgk4g"),a(u,"id","legendBar"),a(u,"x",0),a(u,"y",22),a(u,"height",8),a(u,"width",99),a(u,"fill","#F1C500"),a(g,"id","legendBar"),a(g,"x",101),a(g,"y",22),a(g,"height",8),a(g,"width",99),a(g,"fill","#ce6c35"),a(v,"id","legendBar"),a(v,"x",202),a(v,"y",22),a(v,"height",8),a(v,"width",99),a(v,"fill","#ab1269"),a(m,"x","100"),a(m,"y","44"),a(m,"id","labelBar"),a(m,"text-anchor","middle"),a(m,"font-size","16"),a(m,"class","svelte-19rgk4g"),a(b,"x","200"),a(b,"y","44"),a(b,"id","labelBar"),a(b,"text-anchor","middle"),a(b,"font-size","16"),a(b,"class","svelte-19rgk4g"),a(c,"id","legend"),a(c,"height","50"),a(c,"width",e[1]),a(c,"class","svelte-19rgk4g"),a(V,"x","0"),a(V,"y","12"),a(V,"id","labelBar"),a(V,"text-anchor","start"),a(V,"font-size","16"),a(V,"class","svelte-19rgk4g"),a(A,"id","legend"),a(A,"height","15"),a(A,"width",e[1]),a(A,"class","svelte-19rgk4g"),a(k,"class","options-container svelte-19rgk4g"),a(oe,"class","options-container svelte-19rgk4g"),a(K,"height",e[10]),a(K,"width",e[1]),a(K,"id","svgChart"),a(N,"class","chart-wrapper"),On(()=>e[17].call(N))},m(y,O){D(y,t,O),D(y,r,O),D(y,o,O),w(o,i),w(i,l),D(y,h,O),D(y,c,O),w(c,s),w(s,f),w(c,u),w(c,g),w(c,v),w(c,m),w(m,M),w(c,b),w(b,F),D(y,I,O),D(y,A,O),w(A,V),w(V,U),D(y,C,O),D(y,k,O);for(let p=0;p<ee.length;p+=1)ee[p]&&ee[p].m(k,null);D(y,P,O),D(y,oe,O);for(let p=0;p<G.length;p+=1)G[p]&&G[p].m(oe,null);D(y,fe,O),D(y,N,O),w(N,K);for(let p=0;p<X.length;p+=1)X[p]&&X[p].m(K,null);w(K,Ce);for(let p=0;p<te.length;p+=1)te[p]&&te[p].m(K,null);Ee=Ln(N,e[17].bind(N))},p(y,[O]){if(O&2&&a(o,"width",y[1]),O&2&&a(c,"width",y[1]),O&2&&a(A,"width",y[1]),O&193){he=j(y[6]);let p;for(p=0;p<he.length;p+=1){const Q=$t(y,he,p);ee[p]?ee[p].p(Q,O):(ee[p]=jt(Q),ee[p].c(),ee[p].m(k,null))}for(;p<ee.length;p+=1)ee[p].d(1);ee.length=he.length}if(O&772){ve=j(y[8]);let p;for(p=0;p<ve.length;p+=1){const Q=Gt(y,ve,p);G[p]?G[p].p(Q,O):(G[p]=Qt(Q),G[p].c(),G[p].m(oe,null))}for(;p<G.length;p+=1)G[p].d(1);G.length=ve.length}if(O&1048){we=j(y[3]);let p;for(p=0;p<we.length;p+=1){const Q=Pt(y,we,p);X[p]?X[p].p(Q,O):(X[p]=Zt(Q),X[p].c(),X[p].m(K,Ce))}for(;p<X.length;p+=1)X[p].d(1);X.length=we.length}if(O&48){me=j(y[5]);let p;for(p=0;p<me.length;p+=1){const Q=Rt(y,me,p);te[p]?te[p].p(Q,O):(te[p]=qt(Q),te[p].c(),te[p].m(K,null))}for(;p<te.length;p+=1)te[p].d(1);te.length=me.length}O&2&&a(K,"width",y[1])},i:Te,o:Te,d(y){y&&(d(t),d(r),d(o),d(h),d(c),d(I),d(A),d(C),d(k),d(P),d(oe),d(fe),d(N)),_e(ee,y),_e(G,y),_e(X,y),_e(te,y),Ee()}}}function Jt(e){return e>999?e%1e3===0?(e/1e3).toFixed(0)+"k":(e/1e3).toFixed(1)+"k":e}function vo(e,t,n){let r,o,i,{data:l}=t,{cities:h}=t,c="Log Scale",s=["Linear Scale","Log Scale"];function f(U){n(0,c=U)}let u="Sort by #",g=["Sort by #","Sort by %"];function v(U){n(2,u=U),U==="Sort by #"?n(5,i=i.sort((C,k)=>k.conv-C.conv||k.per-C.per)):n(5,i=i.sort((C,k)=>k.per-C.per||k.conv-C.conv)),console.log(i)}let m,M=300+40*25,b,F;const I=U=>f(U),A=U=>v(U);function V(){m=this.offsetWidth,n(1,m)}return e.$$set=U=>{"data"in U&&n(11,l=U.data),"cities"in U&&n(12,h=U.cities)},e.$$.update=()=>{e.$$.dirty&2048&&n(14,r=wt(l,U=>U.GEO,U=>U.Type)),e.$$.dirty&16384&&n(13,o=Array.from(r,([U,C])=>({GEO:U,sums:Array.from(C,([k,P])=>({Type:k,sumValue:Tt(P,oe=>oe.VALUE)}))}))),e.$$.dirty&12288&&n(13,o=o.filter(U=>h.slice(1).includes(U.GEO))),e.$$.dirty&8192&&n(5,i=o.map(U=>{const C=U.sums.filter(fe=>fe.Type!=="new").reduce((fe,N)=>fe+N.sumValue,0),k=U.sums.reduce((fe,N)=>fe+N.sumValue,0),P=k!==0?C/k:0;let oe;return P<.05?oe="#F1C500":P<.1?oe="#ce6c35":oe="#ab1269",{GEO:U.GEO,conv:C,per:P,colour:oe}}).sort((U,C)=>C.conv-U.conv)),e.$$.dirty&3&&(c==="Log Scale"?(n(4,F=Mn().domain([100,65e3]).range([0,m])),n(3,b=[500,1e3,5e3,1e4,5e4])):(n(4,F=pt().domain([1,42e3]).range([0,m])),n(3,b=[1e4,2e4,3e4,4e4])))},[c,m,u,b,F,i,s,f,g,v,M,l,h,o,r,I,A,V]}class po extends ut{constructor(t){super(),st(this,t,vo,yo,at,{data:11,cities:12})}}function Xt(e,t,n){const r=e.slice();return r[7]=t[n],r}function wo(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function To(e,t,n){const r=e.slice();return r[13]=t[n],r}function Kt(e,t,n){const r=e.slice();return r[16]=t[n],r}function en(e,t,n){const r=e.slice();return r[10]=t[n],r}function tn(e,t,n){const r=e.slice();return r[21]=t[n],r}function nn(e){let t=(e[4]=pt().domain([0,e[16].mean*2.25]).range([115,25]))+"",n,r,o,i=j(e[16].sums),l=[];for(let s=0;s<i.length;s+=1)l[s]=rn(tn(e,i,s));let h=j(["2019","2020","2021","2022","2023"]),c=[];for(let s=0;s<5;s+=1)c[s]=on(en(e,h,s));return{c(){n=le(t);for(let s=0;s<l.length;s+=1)l[s].c();r=ae();for(let s=0;s<5;s+=1)c[s].c();o=ae()},l(s){n=ie(s,t);for(let f=0;f<l.length;f+=1)l[f].l(s);r=ae();for(let f=0;f<5;f+=1)c[f].l(s);o=ae()},m(s,f){D(s,n,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(s,f);D(s,r,f);for(let u=0;u<5;u+=1)c[u]&&c[u].m(s,f);D(s,o,f)},p(s,f){if(f&2&&t!==(t=(s[4]=pt().domain([0,s[16].mean*2.25]).range([115,25]))+"")&&Ue(n,t),f&22){i=j(s[16].sums);let u;for(u=0;u<i.length;u+=1){const g=tn(s,i,u);l[u]?l[u].p(g,f):(l[u]=rn(g),l[u].c(),l[u].m(r.parentNode,r))}for(;u<l.length;u+=1)l[u].d(1);l.length=i.length}if(f&30){h=j(["2019","2020","2021","2022","2023"]);let u;for(u=0;u<5;u+=1){const g=en(s,h,u);c[u]?c[u].p(g,f):(c[u]=on(g),c[u].c(),c[u].m(o.parentNode,o))}for(;u<5;u+=1)c[u].d(1)}},d(s){s&&(d(n),d(r),d(o)),_e(l,s),_e(c,s)}}}function rn(e){let t,n,r,o;return{c(){t=B("line"),this.h()},l(i){t=R(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),this.h()},h(){a(t,"x1",n=e[2](e[21].date)),a(t,"y1",r=e[4](e[21].sumValue)),a(t,"x2",o=e[2](e[21].date)),a(t,"y2",115),ye(t,"stroke","#F1C500"),ye(t,"stroke-width","3"),ye(t,"opacity","0.42")},m(i,l){D(i,t,l)},p(i,l){l&6&&n!==(n=i[2](i[21].date))&&a(t,"x1",n),l&2&&r!==(r=i[4](i[21].sumValue))&&a(t,"y1",r),l&6&&o!==(o=i[2](i[21].date))&&a(t,"x2",o)},d(i){i&&d(t)}}}function bo(e){let t,n,r,o,i=Math.round(e[16].yearlyData[e[10]].sum)+"",l,h;return{c(){t=B("line"),o=B("text"),l=le(i),this.h()},l(c){t=R(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),o=R(c,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var s=E(o);l=ie(s,i),s.forEach(d),this.h()},h(){a(t,"x1",n=e[2](e[3](e[10]+"-01"))),a(t,"y1","35"),a(t,"x2",r=e[2](e[3](e[10]+"-12"))),a(t,"y2","35"),ye(t,"stroke","#ab1269"),ye(t,"stroke-width","2"),a(o,"x",h=e[2](e[3](e[10]+"-01"))+27.6/2),a(o,"y","33"),a(o,"text-anchor","middle"),a(o,"id","avgLabel"),a(o,"font-size","12"),a(o,"class","svelte-1czd5nw")},m(c,s){D(c,t,s),D(c,o,s),w(o,l)},p(c,s){s&4&&n!==(n=c[2](c[3](c[10]+"-01")))&&a(t,"x1",n),s&4&&r!==(r=c[2](c[3](c[10]+"-12")))&&a(t,"x2",r),s&2&&i!==(i=Math.round(c[16].yearlyData[c[10]].sum)+"")&&Ue(l,i),s&4&&h!==(h=c[2](c[3](c[10]+"-01"))+27.6/2)&&a(o,"x",h)},d(c){c&&(d(t),d(o))}}}function Mo(e){let t,n,r,o,i,l,h=Math.round(e[16].yearlyData[e[10]].sum)+"",c,s,f;return{c(){t=B("line"),l=B("text"),c=le(h),this.h()},l(u){t=R(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),l=R(u,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var g=E(l);c=ie(g,h),g.forEach(d),this.h()},h(){a(t,"x1",n=e[2](e[3](e[10]+"-01"))),a(t,"y1",r=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),a(t,"x2",o=e[2](e[3](e[10]+"-12"))),a(t,"y2",i=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),ye(t,"stroke","#ab1269"),ye(t,"stroke-width","2"),a(l,"x",s=e[2](e[3](e[10]+"-01"))+27.6/2),a(l,"y",f=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)-2),a(l,"text-anchor","middle"),a(l,"id","avgLabel"),a(l,"font-size","12"),a(l,"class","svelte-1czd5nw")},m(u,g){D(u,t,g),D(u,l,g),w(l,c)},p(u,g){g&4&&n!==(n=u[2](u[3](u[10]+"-01")))&&a(t,"x1",n),g&2&&r!==(r=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&a(t,"y1",r),g&4&&o!==(o=u[2](u[3](u[10]+"-12")))&&a(t,"x2",o),g&2&&i!==(i=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&a(t,"y2",i),g&2&&h!==(h=Math.round(u[16].yearlyData[u[10]].sum)+"")&&Ue(c,h),g&4&&s!==(s=u[2](u[3](u[10]+"-01"))+27.6/2)&&a(l,"x",s),g&2&&f!==(f=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count)-2)&&a(l,"y",f)},d(u){u&&(d(t),d(l))}}}function on(e){let t,n;function r(l,h){return h&2&&(t=null),t==null&&(t=l[4](l[16].yearlyData[l[10]].sum/l[16].yearlyData[l[10]].count)>35),t?Mo:bo}let o=r(e,-1),i=o(e);return{c(){i.c(),n=ae()},l(l){i.l(l),n=ae()},m(l,h){i.m(l,h),D(l,n,h)},p(l,h){o===(o=r(l,h))&&i?i.p(l,h):(i.d(1),i=o(l),i&&(i.c(),i.m(n.parentNode,n)))},d(l){l&&d(n),i.d(l)}}}function ln(e){let t,n=e[7]===e[16].GEO&&nn(e);return{c(){n&&n.c(),t=ae()},l(r){n&&n.l(r),t=ae()},m(r,o){n&&n.m(r,o),D(r,t,o)},p(r,o){r[7]===r[16].GEO?n?n.p(r,o):(n=nn(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&d(t),n&&n.d(r)}}}function Co(e){let t;return{c(){t=B("line"),this.h()},l(n){t=R(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),this.h()},h(){a(t,"x1",6+e[13]*27.6),a(t,"y1","115"),a(t,"x2",6+e[13]*27.6),a(t,"y2","120"),ye(t,"stroke","#1470ad"),ye(t,"stroke-width","1")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function ko(e){let t,n;return{c(){t=B("text"),n=le(e[10]),this.h()},l(r){t=R(r,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var o=E(t);n=ie(o,e[10]),o.forEach(d),this.h()},h(){a(t,"x",20+e[12]*27.6),a(t,"y","127"),a(t,"id","cityLabel"),a(t,"text-anchor","middle"),a(t,"font-size","15"),a(t,"class","svelte-1czd5nw")},m(r,o){D(r,t,o),w(t,n)},p:Te,d(r){r&&d(t)}}}function an(e){let t,n,r,o=e[7].split(",")[0]+"",i,l,h,c=j(e[1]),s=[];for(let m=0;m<c.length;m+=1)s[m]=ln(Kt(e,c,m));let f=j([0,1,2,3,4,5]),u=[];for(let m=0;m<6;m+=1)u[m]=Co(To(e,f,m));let g=j([19,20,21,22,23]),v=[];for(let m=0;m<5;m+=1)v[m]=ko(wo(e,g,m));return{c(){t=Y("div"),n=B("svg");for(let m=0;m<s.length;m+=1)s[m].c();r=B("text"),i=le(o);for(let m=0;m<6;m+=1)u[m].c();l=ae();for(let m=0;m<5;m+=1)v[m].c();h=q(),this.h()},l(m){t=H(m,"DIV",{class:!0});var M=E(t);n=R(M,"svg",{height:!0,width:!0,id:!0});var b=E(n);for(let I=0;I<s.length;I+=1)s[I].l(b);r=R(b,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var F=E(r);i=ie(F,o),F.forEach(d);for(let I=0;I<6;I+=1)u[I].l(b);l=ae();for(let I=0;I<5;I+=1)v[I].l(b);b.forEach(d),h=J(M),M.forEach(d),this.h()},h(){a(r,"x","5"),a(r,"y",20),a(r,"id","cityLabel"),a(r,"text-anchor","start"),a(r,"font-size","15"),a(r,"class","svelte-1czd5nw"),a(n,"height",145),a(n,"width",145),a(n,"id","svgChart"),a(t,"class","chart svelte-1czd5nw")},m(m,M){D(m,t,M),w(t,n);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(n,null);w(n,r),w(r,i);for(let b=0;b<6;b+=1)u[b]&&u[b].m(n,null);w(n,l);for(let b=0;b<5;b+=1)v[b]&&v[b].m(n,null);w(t,h)},p(m,M){if(M&31){c=j(m[1]);let b;for(b=0;b<c.length;b+=1){const F=Kt(m,c,b);s[b]?s[b].p(F,M):(s[b]=ln(F),s[b].c(),s[b].m(n,r))}for(;b<s.length;b+=1)s[b].d(1);s.length=c.length}M&1&&o!==(o=m[7].split(",")[0]+"")&&Ue(i,o)},d(m){m&&d(t),_e(s,m),_e(u,m),_e(v,m)}}}function Do(e){let t,n=j(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=an(Xt(e,n,o));return{c(){t=Y("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=H(o,"DIV",{id:!0,class:!0});var i=E(t);for(let l=0;l<r.length;l+=1)r[l].l(i);i.forEach(d),this.h()},h(){a(t,"id","chartWrapper"),a(t,"class","svelte-1czd5nw")},m(o,i){D(o,t,i);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(o,[i]){if(i&31){n=j(o[0]);let l;for(l=0;l<n.length;l+=1){const h=Xt(o,n,l);r[l]?r[l].p(h,i):(r[l]=an(h),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:Te,o:Te,d(o){o&&d(t),_e(r,o)}}}function Uo(e,t,n){let r,o,i,{data:l}=t,{cities:h}=t;const c=En("%Y-%m");let s;return e.$$set=f=>{"data"in f&&n(5,l=f.data),"cities"in f&&n(0,h=f.cities)},e.$$.update=()=>{e.$$.dirty&32&&n(6,r=wt(l.filter(f=>!f.Type.includes("new")),f=>f.GEO,f=>f.REF_DATE)),e.$$.dirty&64&&n(1,o=Array.from(r,([f,u])=>({GEO:f,sums:Array.from(u,([g,v])=>({date:g,sumValue:Tt(v,m=>m.VALUE)}))}))),e.$$.dirty&3&&n(1,o=o.filter(f=>h.includes(f.GEO))),e.$$.dirty&2&&o.forEach(f=>{f.sums.forEach(u=>{u.date=c(u.date)}),f.maxValue=Math.max(...f.sums.map(u=>u.sumValue)),f.mean=Rn(f.sums.map(u=>u.sumValue))}),e.$$.dirty&2&&o.forEach(f=>{const u={};f.sums.forEach(g=>{const m=new Date(g.date).getUTCFullYear();u[m]||(u[m]={sum:0,count:0}),u[m].sum+=g.sumValue,u[m].count++}),f.yearlyData=u})},n(2,i=go().domain([c("2019-01"),c("2023-12")]).range([6,144])),[h,o,i,c,s,l,r]}class xo extends ut{constructor(t){super(),st(this,t,Uo,Do,at,{data:5,cities:0})}}function un(e,t,n){const r=e.slice();return r[5]=t[n],r}function sn(e,t,n){const r=e.slice();return r[8]=t[n],r}function cn(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function fn(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function hn(e){let t,n=j([0,1,2,3,4,5,6,7,8,9]),r=[];for(let o=0;o<10;o+=1)r[o]=gn(cn(e,n,o));return{c(){for(let o=0;o<10;o+=1)r[o].c();t=ae()},l(o){for(let i=0;i<10;i+=1)r[i].l(o);t=ae()},m(o,i){for(let l=0;l<10;l+=1)r[l]&&r[l].m(o,i);D(o,t,i)},p(o,i){if(i&2){n=j([0,1,2,3,4,5,6,7,8,9]);let l;for(l=0;l<10;l+=1){const h=cn(o,n,l);r[l]?r[l].p(h,i):(r[l]=gn(h),r[l].c(),r[l].m(t.parentNode,t))}for(;l<10;l+=1)r[l].d(1)}},d(o){o&&d(t),_e(r,o)}}}function So(e){let t;return{c(){t=B("rect"),this.h()},l(n){t=R(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),E(t).forEach(d),this.h()},h(){a(t,"x",5+Pe*e[14]),a(t,"y",25+Pe*e[11]),a(t,"width",Re),a(t,"height",Re),a(t,"fill","#ce6c35")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function Eo(e){let t;return{c(){t=B("rect"),this.h()},l(n){t=R(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),E(t).forEach(d),this.h()},h(){a(t,"x",5+Pe*e[14]),a(t,"y",25+Pe*e[11]),a(t,"width",Re),a(t,"height",Re),a(t,"fill","#F1C500")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function Fo(e){let t;return{c(){t=B("rect"),this.h()},l(n){t=R(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),E(t).forEach(d),this.h()},h(){a(t,"x",5+Pe*e[14]),a(t,"y",25+Pe*e[11]),a(t,"width",Re),a(t,"height",Re),a(t,"fill","#3597CE")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function mn(e){let t;function n(i,l){return i[16]+i[13]*10<i[8].PerNtoR?Fo:i[16]+i[13]*10<i[8].PerNtoR+i[8].PerStoM?Eo:So}let r=n(e),o=r(e);return{c(){o.c(),t=ae()},l(i){o.l(i),t=ae()},m(i,l){o.m(i,l),D(i,t,l)},p(i,l){r===(r=n(i))&&o?o.p(i,l):(o.d(1),o=r(i),o&&(o.c(),o.m(t.parentNode,t)))},d(i){i&&d(t),o.d(i)}}}function gn(e){let t,n=j([0,1,2,3,4,5,6,7,8,9]),r=[];for(let o=0;o<10;o+=1)r[o]=mn(fn(e,n,o));return{c(){for(let o=0;o<10;o+=1)r[o].c();t=ae()},l(o){for(let i=0;i<10;i+=1)r[i].l(o);t=ae()},m(o,i){for(let l=0;l<10;l+=1)r[l]&&r[l].m(o,i);D(o,t,i)},p(o,i){if(i&2){n=j([0,1,2,3,4,5,6,7,8,9]);let l;for(l=0;l<10;l+=1){const h=fn(o,n,l);r[l]?r[l].p(h,i):(r[l]=mn(h),r[l].c(),r[l].m(t.parentNode,t))}for(;l<10;l+=1)r[l].d(1)}},d(o){o&&d(t),_e(r,o)}}}function dn(e){let t,n=e[5]===e[8].GEO&&hn(e);return{c(){n&&n.c(),t=ae()},l(r){n&&n.l(r),t=ae()},m(r,o){n&&n.m(r,o),D(r,t,o)},p(r,o){r[5]===r[8].GEO?n?n.p(r,o):(n=hn(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&d(t),n&&n.d(r)}}}function _n(e){let t,n,r,o=e[5].split(",")[0]+"",i,l,h=j(e[1]),c=[];for(let s=0;s<h.length;s+=1)c[s]=dn(sn(e,h,s));return{c(){t=Y("div"),n=B("svg"),r=B("text"),i=le(o);for(let s=0;s<c.length;s+=1)c[s].c();l=q(),this.h()},l(s){t=H(s,"DIV",{class:!0});var f=E(t);n=R(f,"svg",{height:!0,width:!0,id:!0});var u=E(n);r=R(u,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var g=E(r);i=ie(g,o),g.forEach(d);for(let v=0;v<c.length;v+=1)c[v].l(u);u.forEach(d),l=J(f),f.forEach(d),this.h()},h(){a(r,"x","5"),a(r,"y",20),a(r,"id","cityLabel"),a(r,"text-anchor","start"),a(r,"font-size","15"),a(r,"class","svelte-9wop4q"),a(n,"height",145),a(n,"width",126),a(n,"id","svgChart"),a(t,"class","chart svelte-9wop4q")},m(s,f){D(s,t,f),w(t,n),w(n,r),w(r,i);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(n,null);w(t,l)},p(s,f){if(f&1&&o!==(o=s[5].split(",")[0]+"")&&Ue(i,o),f&3){h=j(s[1]);let u;for(u=0;u<h.length;u+=1){const g=sn(s,h,u);c[u]?c[u].p(g,f):(c[u]=dn(g),c[u].c(),c[u].m(n,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=h.length}},d(s){s&&d(t),_e(c,s)}}}function Ao(e){let t,n=j(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=_n(un(e,n,o));return{c(){t=Y("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=H(o,"DIV",{id:!0,class:!0});var i=E(t);for(let l=0;l<r.length;l+=1)r[l].l(i);i.forEach(d),this.h()},h(){a(t,"id","chartWrapper"),a(t,"class","svelte-9wop4q")},m(o,i){D(o,t,i);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(o,[i]){if(i&3){n=j(o[0]);let l;for(l=0;l<n.length;l+=1){const h=un(o,n,l);r[l]?r[l].p(h,i):(r[l]=_n(h),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:Te,o:Te,d(o){o&&d(t),_e(r,o)}}}let Re=9,Pe=12;function Oo(e){const t=e.reduce((o,i)=>o+i,0),n=e.map(o=>Math.round(o)),r=Math.floor(t)-n.reduce((o,i)=>o+i,0);for(let o=0;o<r;o++)if(e[o]!==0){n[o]++;break}return n}function Lo(e,t,n){let r,o,i,{data:l}=t,{cities:h}=t;return e.$$set=c=>{"data"in c&&n(2,l=c.data),"cities"in c&&n(0,h=c.cities)},e.$$.update=()=>{e.$$.dirty&4&&n(4,r=wt(l,c=>c.GEO,c=>c.Type)),e.$$.dirty&16&&n(3,o=Array.from(r,([c,s])=>({GEO:c,sums:Array.from(s,([f,u])=>({Type:f,sumValue:Tt(u,g=>g.VALUE)}))}))),e.$$.dirty&9&&n(3,o=o.filter(c=>h.includes(c.GEO))),e.$$.dirty&8&&n(1,i=o.map(c=>{const s=c.sums.filter(v=>v.Type!=="new").reduce((v,m)=>v+m.sumValue,0);let f=Math.round(100*c.sums.filter(v=>v.Type==="m-to-m")[0].sumValue/s),u=Math.round(100*c.sums.filter(v=>v.Type==="s-to-m")[0].sumValue/s),g=Math.round(100*c.sums.filter(v=>v.Type==="n-to-r")[0].sumValue/s);return[f,u,g]=Oo([f,u,g]),{GEO:c.GEO,PerMtoM:f,PerStoM:u,PerNtoR:g}})),e.$$.dirty&2&&console.log(i)},[h,i,l,o,r]}class Yo extends ut{constructor(t){super(),st(this,t,Lo,Ao,at,{data:2,cities:0})}}var yn={},_t={},yt=34,Qe=10,vt=13;function An(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Ho(e,t){var n=An(e);return function(r,o){return t(n(r),o,e)}}function vn(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function de(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function zo(e){return e<0?"-"+de(-e,6):e>9999?"+"+de(e,6):de(e,4)}function Vo(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":zo(e.getUTCFullYear())+"-"+de(e.getUTCMonth()+1,2)+"-"+de(e.getUTCDate(),2)+(o?"T"+de(t,2)+":"+de(n,2)+":"+de(r,2)+"."+de(o,3)+"Z":r?"T"+de(t,2)+":"+de(n,2)+":"+de(r,2)+"Z":n||t?"T"+de(t,2)+":"+de(n,2)+"Z":"")}function No(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(u,g){var v,m,M=o(u,function(b,F){if(v)return v(b,F-1);m=b,v=g?Ho(b,g):An(b)});return M.columns=m||[],M}function o(u,g){var v=[],m=u.length,M=0,b=0,F,I=m<=0,A=!1;u.charCodeAt(m-1)===Qe&&--m,u.charCodeAt(m-1)===vt&&--m;function V(){if(I)return _t;if(A)return A=!1,yn;var C,k=M,P;if(u.charCodeAt(k)===yt){for(;M++<m&&u.charCodeAt(M)!==yt||u.charCodeAt(++M)===yt;);return(C=M)>=m?I=!0:(P=u.charCodeAt(M++))===Qe?A=!0:P===vt&&(A=!0,u.charCodeAt(M)===Qe&&++M),u.slice(k+1,C-1).replace(/""/g,'"')}for(;M<m;){if((P=u.charCodeAt(C=M++))===Qe)A=!0;else if(P===vt)A=!0,u.charCodeAt(M)===Qe&&++M;else if(P!==n)continue;return u.slice(k,C)}return I=!0,u.slice(k,m)}for(;(F=V())!==_t;){for(var U=[];F!==yn&&F!==_t;)U.push(F),F=V();g&&(U=g(U,b++))==null||v.push(U)}return v}function i(u,g){return u.map(function(v){return g.map(function(m){return f(v[m])}).join(e)})}function l(u,g){return g==null&&(g=vn(u)),[g.map(f).join(e)].concat(i(u,g)).join(`
`)}function h(u,g){return g==null&&(g=vn(u)),i(u,g).join(`
`)}function c(u){return u.map(s).join(`
`)}function s(u){return u.map(f).join(e)}function f(u){return u==null?"":u instanceof Date?Vo(u):t.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:r,parseRows:o,format:l,formatBody:h,formatRows:c,formatRow:s,formatValue:f}}var Wo=No(","),Io=Wo.parse;function Bo(e){let t,n,r,o,i,l,h,c,s,f,u,g,v,m,M,b,F,I,A,V,U='<div class="title"><h1>Tracking Residential Dwelling Conversions</h1> <h2>An Exploration of Canadian Building Permit Survey Data</h2> <h2></h2> <p><a href="https://jamaps.github.io" target="_blank">Jeff Allen</a> </p><p>July 2024</p></div>',C,k,P,oe="<p>▼</p>",fe,N,K,Ce='Many Canadian cities need more housing, both now and in the near future. While urban sprawl consumes green spaces and strains resources, the conversion and expansion of existing buildings offer a more sustainable path forward. Research in Canada has shown that <a href="https://imfg.org/research/doc/?doc_id=637" target="_blank">urban sprawl has far worse impacts on climate change than infill development</a>. Moreover, <a href="https://csbe.civmin.utoronto.ca/wp-content/uploads/2023/11/khr_Saxe_FIG2023.pdf" target="_blank">maintaining existing building stock</a> to help construct new units can reduce emissions related to procuring and transporting new building material.',Ee,he,ee="There is a variety of different types of building conversions; altering a single-family home to create additional dwelling units like a basement apartment, a duplex expanding into a triplex or fourplex, or a previously non-residential building being converted into residential units.",ve,G,we="On this page, we chart how different Canadian urban regions are doing in terms of creating new residential dwelling units from building conversions, over a five year period of 2019 to 2023.",X,me,te='The data are sourced from Statistics Canada&#39;s <a href="https://www23.statcan.gc.ca/imdb/p2SV.pl?Function=getSurvey&amp;Id=418552&amp;" target="_blank">Building Permit Survey</a>. This survey tracks attributes of building permits by Census Metropolitan Area (CMA) on a monthly basis. The survey includes the number of new dwelling units that were created due to building conversions, as well as has categories for three types of conversions (a. non-residential to residential, b. single dwelling to multiple dwellings, and c. multiple to multiple).',y,O,p="Overall across Canada there were <b>104,425</b> new dwelling units created via conversions in the five-year period from 01/2019 to 12/2023. This accounts for <b>7.9%</b> of all new residential dwelling units created during this period, based on the data recorded in the building permit survey. Below we chart how this varies by CMA, trends over time, as well as different types of building conversions.",Q,Fe,Ae,T,x,S,_=`<h3>New dwellings from building conversions, 01/2019 to 12/2023</h3> <p style="font-size: 15px"><svg height="15" width="28"><text x="14" y="11" text-anchor="middle" font-size="12" style="fill: #ab1269;">100</text><line x1="0" y1="14" x2="28" y2="14" style="stroke: #ab1269; stroke-width: 3;"></line></svg>
				Yearly totals
				<svg height="25" width="25"><line x1="5" y1="20" x2="5" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="10" y1="15" x2="10" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="15" y1="5" x2="15" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="20" y1="10" x2="20" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line></svg>
				Monthly trends</p>`,ne,L,re,z,be='<h3>Proportion of new dwellings by type of building conversion</h3> <div style="margin-top: -15px"><svg height="25" width="300"><text x="0" y="12" id="years" text-anchor="start" font-size="16" class="svelte-1relrd6">01/2019 to 12/2023 (5 years total)</text></svg></div> <p style="font-size: 15px; margin-bottom: -25px"><svg height="100" width="400"><text x="0" y="12" text-anchor="start" font-size="16" style="fill: #1470ad;">One square = 1% of new dwellings from conversions</text><rect x="0" y="27" width="9" height="9" fill="#3597CE"></rect><text x="15" y="37" text-anchor="start" font-size="16" style="fill: #1470ad;">Non-residential to residential</text><rect x="0" y="52" width="9" height="9" fill="#F1C500"></rect><text x="15" y="62" text-anchor="start" font-size="16" style="fill: #1470ad;">Single dwelling to multiple dwellings</text><rect x="0" y="77" width="9" height="9" fill="#ce6c35"></rect><text x="15" y="87" text-anchor="start" font-size="16" style="fill: #1470ad;">Multiple dwellings to multiple dwellings</text></svg></p>',Ve,Oe,qe;return F=new zn({}),T=new po({props:{data:e[0],cities:e[1]}}),L=new xo({props:{data:e[0],cities:e[1]}}),Oe=new Yo({props:{data:e[0],cities:e[1]}}),{c(){t=Y("meta"),n=Y("meta"),r=Y("meta"),o=Y("meta"),i=Y("meta"),l=Y("meta"),h=Y("meta"),c=Y("meta"),s=Y("meta"),f=Y("meta"),u=Y("meta"),g=Y("meta"),v=Y("meta"),m=Y("meta"),M=Y("meta"),b=q(),Je(F.$$.fragment),I=q(),A=Y("main"),V=Y("div"),V.innerHTML=U,C=q(),k=Y("div"),P=Y("div"),P.innerHTML=oe,fe=q(),N=Y("div"),K=Y("p"),K.innerHTML=Ce,Ee=q(),he=Y("p"),he.textContent=ee,ve=q(),G=Y("p"),G.textContent=we,X=q(),me=Y("p"),me.innerHTML=te,y=q(),O=Y("p"),O.innerHTML=p,Q=q(),Fe=Y("br"),Ae=q(),Je(T.$$.fragment),x=q(),S=Y("div"),S.innerHTML=_,ne=q(),Je(L.$$.fragment),re=q(),z=Y("div"),z.innerHTML=be,Ve=q(),Je(Oe.$$.fragment),this.h()},l($){const Z=Yn("svelte-iwu35y",document.head);t=H(Z,"META",{name:!0,content:!0}),n=H(Z,"META",{name:!0,content:!0}),r=H(Z,"META",{name:!0,content:!0}),o=H(Z,"META",{property:!0,content:!0}),i=H(Z,"META",{property:!0,content:!0}),l=H(Z,"META",{property:!0,content:!0}),h=H(Z,"META",{property:!0,content:!0}),c=H(Z,"META",{property:!0,content:!0}),s=H(Z,"META",{property:!0,content:!0}),f=H(Z,"META",{name:!0,content:!0}),u=H(Z,"META",{name:!0,content:!0}),g=H(Z,"META",{name:!0,content:!0}),v=H(Z,"META",{name:!0,content:!0}),m=H(Z,"META",{name:!0,content:!0}),M=H(Z,"META",{name:!0,content:!0}),Z.forEach(d),b=J($),Xe(F.$$.fragment,$),I=J($),A=H($,"MAIN",{});var Le=E(A);V=H(Le,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),Me(V)!=="svelte-1b4pu1x"&&(V.innerHTML=U),C=J(Le),k=H(Le,"DIV",{class:!0});var ge=E(k);P=H(ge,"DIV",{class:!0,"data-svelte-h":!0}),Me(P)!=="svelte-1s98lsq"&&(P.innerHTML=oe),fe=J(ge),N=H(ge,"DIV",{class:!0});var ce=E(N);K=H(ce,"P",{"data-svelte-h":!0}),Me(K)!=="svelte-19t3y5t"&&(K.innerHTML=Ce),Ee=J(ce),he=H(ce,"P",{"data-svelte-h":!0}),Me(he)!=="svelte-vlk4kd"&&(he.textContent=ee),ve=J(ce),G=H(ce,"P",{"data-svelte-h":!0}),Me(G)!=="svelte-1089ynd"&&(G.textContent=we),X=J(ce),me=H(ce,"P",{"data-svelte-h":!0}),Me(me)!=="svelte-1g4xf74"&&(me.innerHTML=te),y=J(ce),O=H(ce,"P",{"data-svelte-h":!0}),Me(O)!=="svelte-1pek1vq"&&(O.innerHTML=p),Q=J(ce),Fe=H(ce,"BR",{}),Ae=J(ce),Xe(T.$$.fragment,ce),ce.forEach(d),x=J(ge),S=H(ge,"DIV",{class:!0,"data-svelte-h":!0}),Me(S)!=="svelte-1eecfim"&&(S.innerHTML=_),ne=J(ge),Xe(L.$$.fragment,ge),re=J(ge),z=H(ge,"DIV",{class:!0,"data-svelte-h":!0}),Me(z)!=="svelte-10fv0b3"&&(z.innerHTML=be),Ve=J(ge),Xe(Oe.$$.fragment,ge),ge.forEach(d),Le.forEach(d),this.h()},h(){a(t,"name","viewport"),a(t,"content","width=device-width, initial-scale=1, minimum-scale=1"),document.title="Residential Conversions Across Canada | School of Cities",a(n,"name","description"),a(n,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),a(r,"name","author"),a(r,"content","Jeff Allen"),a(o,"property","og:title"),a(o,"content","Residential Conversions Across Canada"),a(i,"property","og:description"),a(i,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),a(l,"property","og:type"),a(l,"content","website"),a(h,"property","og:url"),a(h,"content","https://schoolofcities.github.io/gentle-density/canadian-residential-conversions"),a(c,"property","og:image"),a(c,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-conversions.png"),a(s,"property","og:locale"),a(s,"content","en_CA"),a(f,"name","twitter:card"),a(f,"content","summary_large_image"),a(u,"name","twitter:site"),a(u,"content","https://schoolofcities.github.io/gentle-density/canadian-residential-conversions"),a(g,"name","twitter:creator"),a(g,"content","@JeffAllenMaps"),a(v,"name","twitter:title"),a(v,"content","Residential Conversions Across Canada"),a(m,"name","twitter:description"),a(m,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),a(M,"name","twitter:image"),a(M,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-conversions.png"),a(V,"class","blueprint"),ye(V,"background-image","url('../gentle-density/blueprint-background-convert.png')"),a(P,"class","arrow"),a(N,"class","text"),a(S,"class","text"),a(z,"class","text"),a(k,"class","background-white svelte-1relrd6")},m($,Z){w(document.head,t),w(document.head,n),w(document.head,r),w(document.head,o),w(document.head,i),w(document.head,l),w(document.head,h),w(document.head,c),w(document.head,s),w(document.head,f),w(document.head,u),w(document.head,g),w(document.head,v),w(document.head,m),w(document.head,M),D($,b,Z),Ke(F,$,Z),D($,I,Z),D($,A,Z),w(A,V),w(A,C),w(A,k),w(k,P),w(k,fe),w(k,N),w(N,K),w(N,Ee),w(N,he),w(N,ve),w(N,G),w(N,X),w(N,me),w(N,y),w(N,O),w(N,Q),w(N,Fe),w(N,Ae),Ke(T,N,null),w(k,x),w(k,S),w(k,ne),Ke(L,k,null),w(k,re),w(k,z),w(k,Ve),Ke(Oe,k,null),qe=!0},p($,[Z]){const Le={};Z&1&&(Le.data=$[0]),T.$set(Le);const ge={};Z&1&&(ge.data=$[0]),L.$set(ge);const ce={};Z&1&&(ce.data=$[0]),Oe.$set(ce)},i($){qe||(et(F.$$.fragment,$),et(T.$$.fragment,$),et(L.$$.fragment,$),et(Oe.$$.fragment,$),qe=!0)},o($){tt(F.$$.fragment,$),tt(T.$$.fragment,$),tt(L.$$.fragment,$),tt(Oe.$$.fragment,$),qe=!1},d($){$&&(d(b),d(I),d(A)),d(t),d(n),d(r),d(o),d(i),d(l),d(h),d(c),d(s),d(f),d(u),d(g),d(v),d(m),d(M),nt(F,$),nt(T),nt(L),nt(Oe)}}}function Ro(e,t,n){let r=[];async function o(){try{const h=await(await fetch("conversions-canada-2018-to-2024.csv")).text();n(0,r=Io(h)),n(0,r=r.filter(c=>!c.REF_DATE.includes("2024"))),n(0,r=r.filter(c=>!c.REF_DATE.includes("2018"))),r.forEach(c=>{c.VALUE=parseFloat(c.VALUE)})}catch(l){console.error("Error loading CSV data:",l)}}return Hn(()=>{o()}),[r,["All Canada","Abbotsford-Mission, British Columbia","Barrie, Ontario","Belleville-Quinte West, Ontario","Brantford, Ontario","Calgary, Alberta","Chilliwack, British Columbia","Edmonton, Alberta","Fredericton, New Brunswick","Greater Sudbury, Ontario","Guelph, Ontario","Halifax, Nova Scotia","Hamilton, Ontario","Kamloops, British Columbia","Kelowna, British Columbia","Kingston, Ontario","Kitchener-Cambridge-Waterloo, Ontario","Lethbridge, Alberta","London, Ontario","Moncton, New Brunswick","Montréal, Quebec","Nanaimo, British Columbia","Oshawa, Ontario","Ottawa-Gatineau, Ontario-Quebec","Québec, Quebec","Peterborough, Ontario","Regina, Saskatchewan","Saguenay, Quebec","Saint John, New Brunswick","Saskatoon, Saskatchewan","Sherbrooke, Quebec","St. Catharines-Niagara, Ontario","St. John's, Newfoundland and Labrador","Thunder Bay, Ontario","Toronto, Ontario","Trois-Rivières, Quebec","Vancouver, British Columbia","Victoria, British Columbia","Windsor, Ontario","Winnipeg, Manitoba"]]}class Jo extends ut{constructor(t){super(),st(this,t,Ro,Bo,at,{})}}export{Jo as component,qo as universal};
